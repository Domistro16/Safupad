{"version":3,"file":"index.esm.js","sources":["../src/types/index.ts","../src/constants/index.ts","../src/contracts/BaseContract.ts","../src/abis/index.ts","../src/contracts/LaunchpadManager.ts","../src/contracts/BondingCurveDEX.ts","../src/contracts/TokenFactory.ts","../src/contracts/PriceOracle.ts","../src/contracts/LPFeeHarvester.ts","../src/graph/queries.ts","../src/graph/client.ts","../src/graph/SafuPadGraph.ts","../src/SafuPadSDK.ts","../src/utils/index.ts","../src/index.ts"],"sourcesContent":["// src/types/index.ts\r\nimport { ethers } from 'ethers';\r\n\r\n/**\r\n * Network names supported by the SDK\r\n */\r\nexport type NetworkName = 'bsc' | 'bscTestnet' | 'localhost';\r\n\r\n/**\r\n * Launch type enum\r\n */\r\nexport enum LaunchType {\r\n  PROJECT_RAISE = 0,\r\n  INSTANT_LAUNCH = 1,\r\n}\r\n\r\n/**\r\n * Network configuration\r\n */\r\nexport interface NetworkConfig {\r\n  name: string;\r\n  chainId: number;\r\n  rpcUrl: string;\r\n  alchemyRpcUrlTemplate?: string; // Template for Alchemy RPC URL (use {apiKey} placeholder)\r\n  explorerUrl: string;\r\n  subgraphUrl?: string; // The Graph subgraph URL\r\n  nativeCurrency: {\r\n    name: string;\r\n    symbol: string;\r\n    decimals: number;\r\n  };\r\n  contracts: {\r\n    launchpadManager: string;\r\n    bondingCurveDEX: string;\r\n    tokenFactory: string;\r\n    priceOracle: string;\r\n    lpFeeHarvester: string;\r\n    pancakeRouter: string;\r\n    pancakeFactory: string;\r\n  };\r\n}\r\n\r\n/**\r\n * SDK configuration\r\n */\r\nexport interface SDKConfig {\r\n  network?: NetworkName | NetworkConfig;\r\n  provider?: string | ethers.Provider | any; // any for browser wallet\r\n  privateKey?: string;\r\n  gasLimit?: bigint;\r\n  gasPrice?: bigint;\r\n  alchemyApiKey?: string; // Optional Alchemy API key for event log queries\r\n  subgraphUrl?: string; // Optional custom subgraph URL (overrides network default)\r\n}\r\n\r\n/**\r\n * Token metadata structure\r\n */\r\nexport interface TokenMetadata {\r\n  logoURI: string;\r\n  description: string;\r\n  website: string;\r\n  twitter: string;\r\n  telegram: string;\r\n  discord: string;\r\n}\r\n\r\n/**\r\n * Launch creation parameters\r\n * ✅ UPDATED: Removed projectInfoFiWallet, changed to BNB amounts (BSC)\r\n * ✅ UPDATED: Added teamInfo for founder and team member details\r\n */\r\nexport interface CreateLaunchParams {\r\n  name: string;\r\n  symbol: string;\r\n  totalSupply: number;\r\n  raiseTargetBNB: string; // BNB amount for raise target (BSC native token)\r\n  raiseMaxBNB: string; // BNB amount for max raise (BSC native token)\r\n  vestingDuration: number; // in days\r\n  metadata: TokenMetadata;\r\n  burnLP: boolean;\r\n  teamInfo: LaunchTeamInfo; // Founder and team member information\r\n  vanitySalt?: string;\r\n}\r\n\r\n/**\r\n * Instant launch creation parameters\r\n */\r\nexport interface CreateInstantLaunchParams {\r\n  name: string;\r\n  symbol: string;\r\n  totalSupply: number;\r\n  metadata: TokenMetadata;\r\n  initialBuyBNB: string; // BNB amount for initial buy (BSC native token)\r\n  burnLP: boolean;\r\n  vanitySalt?: string;\r\n}\r\n\r\n/**\r\n * Launch information\r\n * ✅ UPDATED: Removed projectInfoFiWallet\r\n */\r\nexport interface LaunchInfo {\r\n  founder: string;\r\n  raiseTarget: bigint;\r\n  raiseMax: bigint;\r\n  totalRaised: bigint;\r\n  raiseDeadline: bigint;\r\n  raiseCompleted: boolean;\r\n  graduatedToPancakeSwap: boolean;\r\n  raisedFundsVesting: bigint;\r\n  raisedFundsClaimed: bigint;\r\n  launchType: LaunchType;\r\n  burnLP: boolean;\r\n}\r\n\r\n/**\r\n * Launch information with USD values\r\n * ✅ UPDATED: Removed projectInfoFiWallet, changed to BNB (BSC)\r\n */\r\nexport interface LaunchInfoWithUSD {\r\n  founder: string;\r\n  raiseTargetBNB: bigint;\r\n  raiseTargetUSD: bigint;\r\n  raiseMaxBNB: bigint;\r\n  raiseMaxUSD: bigint;\r\n  totalRaisedBNB: bigint;\r\n  totalRaisedUSD: bigint;\r\n  raiseDeadline: bigint;\r\n  raiseCompleted: boolean;\r\n  launchType: LaunchType;\r\n  burnLP: boolean;\r\n}\r\n\r\n/**\r\n * Pool information from bonding curve\r\n * ✅ UPDATED: Changed to BNB (BSC)\r\n */\r\nexport interface PoolInfo {\r\n  marketCapBNB: bigint;\r\n  marketCapUSD: bigint;\r\n  bnbReserve: bigint;\r\n  tokenReserve: bigint;\r\n  reservedTokens: bigint;\r\n  currentPrice: bigint;\r\n  priceMultiplier: bigint;\r\n  graduationProgress: bigint;\r\n  graduated: boolean;\r\n}\r\n\r\n/**\r\n * Fee information\r\n */\r\nexport interface FeeInfo {\r\n  currentFeeRate: bigint;\r\n  finalFeeRate: bigint;\r\n  blocksSinceLaunch: bigint;\r\n  blocksUntilNextTier: bigint;\r\n  feeStage: string;\r\n}\r\n\r\n/**\r\n * Buy/Sell quote\r\n */\r\nexport interface Quote {\r\n  tokensOut: bigint;\r\n  pricePerToken: bigint;\r\n}\r\n\r\n/**\r\n * Post-graduation statistics\r\n */\r\nexport interface PostGraduationStats {\r\n  totalTokensSold: bigint;\r\n  totalLiquidityAdded: bigint;\r\n  lpTokensGenerated: bigint;\r\n}\r\n\r\n/**\r\n * Creator fee information\r\n * ✅ UPDATED: Changed to BNB (BSC)\r\n */\r\nexport interface CreatorFeeInfo {\r\n  accumulatedFees: bigint;\r\n  lastClaimTime: bigint;\r\n  graduationMarketCap: bigint;\r\n  currentMarketCap: bigint;\r\n  bnbInPool: bigint;\r\n  canClaim: boolean;\r\n}\r\n\r\n/**\r\n * LP lock information\r\n * Note: projectInfoFi is still used in LPFeeHarvester contract\r\n */\r\nexport interface LPLockInfo {\r\n  lpToken: string;\r\n  creator: string;\r\n  projectInfoFi: string; // This is the global InfoFi address\r\n  lpAmount: bigint;\r\n  initialLPAmount: bigint;\r\n  lockTime: bigint;\r\n  unlockTime: bigint;\r\n  active: boolean;\r\n  totalFeesHarvested: bigint;\r\n  harvestCount: bigint;\r\n  timeUntilUnlock: bigint;\r\n  estimatedValue: bigint;\r\n  lastHarvestTime: bigint;\r\n}\r\n\r\n/**\r\n * Harvest statistics\r\n * ✅ UPDATED: Changed to BNB (BSC)\r\n */\r\nexport interface HarvestStats {\r\n  bnbAmount: bigint;\r\n  token0Amount: bigint;\r\n  token1Amount: bigint;\r\n  timestamp: bigint;\r\n  lpBurned: bigint;\r\n}\r\n\r\n/**\r\n * Platform statistics\r\n */\r\nexport interface PlatformStats {\r\n  totalValueLocked: bigint;\r\n  totalFeesDistributed: bigint;\r\n  totalHarvests: bigint;\r\n  activeLocksCount: bigint;\r\n}\r\n\r\n/**\r\n * Transaction options\r\n */\r\nexport interface TxOptions {\r\n  gasLimit?: bigint;\r\n  gasPrice?: bigint;\r\n  value?: bigint;\r\n  nonce?: number;\r\n}\r\n\r\n/**\r\n * Event filter options\r\n */\r\nexport interface EventFilterOptions {\r\n  fromBlock?: number | string;\r\n  toBlock?: number | string;\r\n}\r\n\r\n/**\r\n * Formatted launch information (for display)\r\n */\r\nexport interface FormattedLaunchInfo {\r\n  founder: string;\r\n  raiseTarget: string;\r\n  raiseMax: string;\r\n  totalRaised: string;\r\n  raiseDeadline: Date;\r\n  raiseCompleted: boolean;\r\n  graduatedToPancakeSwap: boolean;\r\n  progressPercent: number;\r\n  launchType: 'PROJECT_RAISE' | 'INSTANT_LAUNCH';\r\n  burnLP: boolean;\r\n}\r\n\r\n/**\r\n * Formatted pool information (for display)\r\n * ✅ UPDATED: Changed to BNB (BSC)\r\n */\r\nexport interface FormattedPoolInfo {\r\n  marketCapUSD: string;\r\n  marketCapBNB: string;\r\n  bnbReserve: string;\r\n  tokenReserve: string;\r\n  currentPrice: string;\r\n  priceMultiplier: string;\r\n  graduationProgress: number;\r\n  graduated: boolean;\r\n  currentFee: string;\r\n  feeStage: string;\r\n}\r\n\r\n/**\r\n * Token information\r\n */\r\nexport interface TokenInfo {\r\n  address: string;\r\n  name: string;\r\n  symbol: string;\r\n  decimals: number;\r\n  totalSupply: bigint;\r\n  metadata: TokenMetadata;\r\n}\r\n\r\n/**\r\n * Contribution information\r\n */\r\nexport interface ContributionInfo {\r\n  amount: bigint;\r\n  claimed: boolean;\r\n}\r\n\r\n/**\r\n * Founder information for a launch\r\n */\r\nexport interface FounderInfo {\r\n  name: string;\r\n  walletAddress: string;\r\n  bio: string;\r\n}\r\n\r\n/**\r\n * Team member information\r\n */\r\nexport interface TeamMember {\r\n  name: string;\r\n  role: string;\r\n  twitter: string;\r\n  linkedin: string;\r\n}\r\n\r\n/**\r\n * Launch team information (founder + up to 2 team members)\r\n */\r\nexport interface LaunchTeamInfo {\r\n  founder: FounderInfo;\r\n  teamMember1: TeamMember;\r\n  teamMember2: TeamMember;\r\n  teamMemberCount: number; // 0, 1, or 2\r\n}\r\n\r\n/**\r\n * Claimable amounts\r\n */\r\nexport interface ClaimableAmounts {\r\n  claimableTokens: bigint;\r\n  claimableFunds: bigint;\r\n}\r\n\r\n/**\r\n * Transaction result\r\n */\r\nexport interface TxResult {\r\n  hash: string;\r\n  wait: () => Promise<ethers.TransactionReceipt | null>;\r\n}\r\n\r\n/**\r\n * Error types\r\n */\r\nexport class SafuPadError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public code?: string,\r\n    public details?: any\r\n  ) {\r\n    super(message);\r\n    this.name = 'SafuPadError';\r\n  }\r\n}\r\n\r\nexport class NetworkError extends SafuPadError {\r\n  constructor(message: string, details?: any) {\r\n    super(message, 'NETWORK_ERROR', details);\r\n    this.name = 'NetworkError';\r\n  }\r\n}\r\n\r\nexport class ContractError extends SafuPadError {\r\n  constructor(message: string, details?: any) {\r\n    super(message, 'CONTRACT_ERROR', details);\r\n    this.name = 'ContractError';\r\n  }\r\n}\r\n\r\nexport class ValidationError extends SafuPadError {\r\n  constructor(message: string, details?: any) {\r\n    super(message, 'VALIDATION_ERROR', details);\r\n    this.name = 'ValidationError';\r\n  }\r\n}\r\n","// src/constants/index.ts\r\nimport { NetworkConfig, SDKConfig } from '../types';\r\n/**\r\n * Network configurations\r\n */\r\nexport const NETWORKS: Record<string, NetworkConfig> = {\r\n  bsc: {\r\n    name: 'BNB Smart Chain',\r\n    chainId: 56, // BSC mainnet chain ID\r\n    rpcUrl: 'https://bsc-dataseed.binance.org/', // BSC RPC URL\r\n    alchemyRpcUrlTemplate: 'https://bnb-mainnet.g.alchemy.com/v2/{apiKey}',\r\n    explorerUrl: 'https://bscscan.com', // BSC explorer\r\n    subgraphUrl:\r\n      'https://api.studio.thegraph.com/query/<SUBGRAPH_ID>/safupad-subgraph/version/latest', // TODO: UPDATE AFTER DEPLOYMENT\r\n    nativeCurrency: {\r\n      name: 'BNB',\r\n      symbol: 'BNB',\r\n      decimals: 18,\r\n    },\r\n    contracts: {\r\n      launchpadManager: '0xcCfcfeB17609f0C5aE604bC71c4907B90B94a3e9', // TODO: UPDATE AFTER MAINNET DEPLOYMENT\r\n      bondingCurveDEX: '0xE96baB0D0661Fbfc710d79d58Cdb32bcD7bB8815', // TODO: UPDATE AFTER MAINNET DEPLOYMENT\r\n      tokenFactory: '0x15E2ccAeb4D1eeA1A7b8d839FFA30D63519D1c50', // TODO: UPDATE AFTER MAINNET DEPLOYMENT\r\n      priceOracle: '0x3De1d0D44c9609b99D05BA14Ff48c691fF6059Ff', // TODO: UPDATE AFTER MAINNET DEPLOYMENT\r\n      lpFeeHarvester: '0x8b4499143ac1CDb7bDB25a2FEc1786F8BD9772F9', // TODO: UPDATE AFTER MAINNET DEPLOYMENT\r\n      pancakeRouter: '0x10ED43C718714eb63d5aA57B78B54704E256024E', // PancakeSwap router\r\n      pancakeFactory: '0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73', // PancakeSwap factory\r\n    },\r\n  },\r\n\r\n  bscTestnet: {\r\n    name: 'BNB Smart Chain Testnet',\r\n    chainId: 97, // BSC testnet chain ID\r\n    rpcUrl: 'https://data-seed-prebsc-1-s1.binance.org:8545/', // BSC testnet RPC\r\n    alchemyRpcUrlTemplate: 'https://bnb-testnet.g.alchemy.com/v2/{apiKey}',\r\n    explorerUrl: 'https://testnet.bscscan.com', // BSC testnet explorer\r\n    subgraphUrl:\r\n      'https://api.studio.thegraph.com/query/<SUBGRAPH_ID>/safupad-testnet/version/latest', // TODO: UPDATE AFTER DEPLOYMENT\r\n    nativeCurrency: {\r\n      name: 'BNB',\r\n      symbol: 'BNB',\r\n      decimals: 18,\r\n    },\r\n    contracts: {\r\n      launchpadManager: '0x4c797EbaA64Cc7f1bD2a82A36bEE5Cf335D1830c',\r\n      bondingCurveDEX: '0x14eB3B6C297ff6fefc25c0E0d289Bf8348e864f6',\r\n      tokenFactory: '0xcb7526b9598240A737237C52f852705e6A449cD0',\r\n      priceOracle: '0x56f0b1f80F8cc37f875Be42e2f4D09810514F346',\r\n      lpFeeHarvester: '0xa886B8897814193f99A88701d70b31b4a8E27a1E',\r\n      pancakeRouter: '0xD99D1c33F9fC3444f8101754aBC46c52416550D1', // BSC testnet DEX router\r\n      pancakeFactory: '0x6725F303b657a9451d8BA641348b6761A6CC7a17', // BSC testnet DEX factory\r\n    },\r\n  },\r\n\r\n  localhost: {\r\n    name: 'Localhost',\r\n    chainId: 31337,\r\n    rpcUrl: 'http://localhost:8545',\r\n    explorerUrl: 'http://localhost:8545',\r\n    subgraphUrl: 'http://localhost:8000/subgraphs/name/safupad-subgraph', // Local Graph Node\r\n    nativeCurrency: {\r\n      name: 'BNB',\r\n      symbol: 'BNB',\r\n      decimals: 18,\r\n    },\r\n    contracts: {\r\n      launchpadManager: '0x0000000000000000000000000000000000000000',\r\n      bondingCurveDEX: '0x0000000000000000000000000000000000000000',\r\n      tokenFactory: '0x0000000000000000000000000000000000000000',\r\n      priceOracle: '0x0000000000000000000000000000000000000000',\r\n      lpFeeHarvester: '0x0000000000000000000000000000000000000000',\r\n      pancakeRouter: '0x0000000000000000000000000000000000000000',\r\n      pancakeFactory: '0x0000000000000000000000000000000000000000',\r\n    },\r\n  },\r\n};\r\n\r\n/**\r\n * Default SDK configuration\r\n */\r\nexport const DEFAULT_CONFIG: Partial<SDKConfig> = {\r\n  gasLimit: 5000000n,\r\n  gasPrice: 3000000000n, // 3 gwei\r\n};\r\n\r\n/**\r\n * Contract constants (LaunchpadManagerV3 - BSC)\r\n */\r\nexport const CONSTANTS = {\r\n  // Launch parameters - BNB amounts (BSC native currency)\r\n  MIN_RAISE_BNB: '5000000', // 5M BNB\r\n  MAX_RAISE_BNB: '20000000', // 20M BNB\r\n  MAX_CONTRIBUTION_PER_WALLET: '50000', // 50K BNB per wallet\r\n  RAISE_DURATION: 72 * 60 * 60, // 72 hours (3 days) in seconds\r\n\r\n  // Token allocation percentages\r\n  FOUNDER_ALLOCATION: 60, // 60% to founder\r\n  CONTRIBUTOR_ALLOCATION: 20, // 20% for contributors\r\n  PANCAKESWAP_ALLOCATION: 10, // 10% for PancakeSwap liquidity\r\n  VESTED_ALLOCATION: 10, // 10% vested (conditional - community control)\r\n\r\n  // Founder token release\r\n  IMMEDIATE_FOUNDER_RELEASE: 100, // 100% of founder allocation released immediately (no vesting on founder tokens)\r\n\r\n  // Liquidity percentages\r\n  LIQUIDITY_TOKEN_PERCENT: 10, // 10% of token supply for liquidity\r\n  LIQUIDITY_BNB_PERCENT: 20, // 20% of raised BNB for liquidity\r\n\r\n  // Vesting (for conditional 10% allocation)\r\n  MIN_VESTING_DURATION: 90 * 24 * 60 * 60, // 90 days\r\n  MAX_VESTING_DURATION: 180 * 24 * 60 * 60, // 180 days\r\n  VESTING_RELEASE_INTERVAL: 30 * 24 * 60 * 60, // 30 days\r\n  MARKET_CAP_CHECK_MONTHS: 3, // 3 consecutive months below starting market cap triggers community control\r\n\r\n  // Platform fees\r\n  PLATFORM_FEE_BPS: 100, // 1% platform fee (100 basis points)\r\n  BASIS_POINTS: 10000,\r\n\r\n  // LP Harvester\r\n  CLAIM_COOLDOWN: 24 * 60 * 60, // 24 hours\r\n  HARVEST_COOLDOWN: 24 * 60 * 60, // 24 hours\r\n  MIN_HARVEST_AMOUNT: '0.001', // 0.001 BNB\r\n  DEFAULT_LOCK_DURATION: 365 * 24 * 60 * 60, // 365 days\r\n  MIN_LOCK_DURATION: 90 * 24 * 60 * 60, // 90 days\r\n  MAX_LOCK_DURATION: 1460 * 24 * 60 * 60, // 4 years\r\n\r\n  // Token supply\r\n  TOTAL_TOKEN_SUPPLY: '1000000000', // 1 billion\r\n\r\n  // Burn address\r\n  LP_BURN_ADDRESS: '0x000000000000000000000000000000000000dEaD',\r\n};\r\n\r\n/**\r\n * Error messages\r\n */\r\nexport const ERROR_MESSAGES = {\r\n  NOT_INITIALIZED: 'SDK not initialized. Call initialize() first.',\r\n  NO_SIGNER: 'No signer available. Connect wallet first.',\r\n  INVALID_NETWORK: 'Invalid network configuration.',\r\n  INVALID_ADDRESS: 'Invalid address provided.',\r\n  INVALID_AMOUNT: 'Invalid amount provided.',\r\n  TRANSACTION_FAILED: 'Transaction failed.',\r\n  INSUFFICIENT_BALANCE: 'Insufficient balance.',\r\n  CONTRACT_ERROR: 'Contract call failed.',\r\n  ALREADY_GRADUATED: 'Pool has already graduated.',\r\n  NOT_GRADUATED: 'Pool has not graduated yet.',\r\n  RAISE_NOT_COMPLETED: 'Raise not completed.',\r\n  NOT_FOUNDER: 'Only founder can perform this action.',\r\n  POOL_NOT_ACTIVE: 'Pool is not active.',\r\n};\r\n\r\n/**\r\n * Event names\r\n */\r\nexport const EVENTS = {\r\n  // LaunchpadManager events\r\n  LAUNCH_CREATED: 'LaunchCreated',\r\n  INSTANT_LAUNCH_CREATED: 'InstantLaunchCreated',\r\n  CONTRIBUTION_MADE: 'ContributionMade',\r\n  RAISE_COMPLETED: 'RaiseCompleted',\r\n  FOUNDER_TOKENS_CLAIMED: 'FounderTokensClaimed',\r\n  RAISED_FUNDS_CLAIMED: 'RaisedFundsClaimed',\r\n  GRADUATED_TO_PANCAKESWAP: 'GraduatedToPancakeSwap',\r\n  LP_BURNED: 'LPBurned',\r\n  LP_LOCKED: 'LPLocked',\r\n  TRANSFERS_ENABLED: 'TransfersEnabled',\r\n\r\n  // BondingCurveDEX events\r\n  POOL_CREATED: 'PoolCreated',\r\n  TOKENS_BOUGHT: 'TokensBought',\r\n  TOKENS_SOLD: 'TokensSold',\r\n  POOL_GRADUATED: 'PoolGraduated',\r\n  FEES_COLLECTED: 'FeesCollected',\r\n  CREATOR_FEES_CLAIMED: 'CreatorFeesClaimed',\r\n  POST_GRADUATION_SELL: 'PostGraduationSell',\r\n  LP_TOKENS_HANDLED: 'LPTokensHandled',\r\n\r\n  // LPFeeHarvester events\r\n  FEES_HARVESTED: 'FeesHarvested',\r\n  FEES_DISTRIBUTED: 'FeesDistributed',\r\n  LP_UNLOCKED: 'LPUnlocked',\r\n  EMERGENCY_UNLOCK: 'EmergencyUnlock',\r\n  LOCK_EXTENDED: 'LockExtended',\r\n};\r\n\r\n/**\r\n * ABI fragments for common operations (used if full ABI not available)\r\n */\r\nexport const ABI_FRAGMENTS = {\r\n  ERC20: [\r\n    'function balanceOf(address owner) view returns (uint256)',\r\n    'function transfer(address to, uint256 amount) returns (bool)',\r\n    'function approve(address spender, uint256 amount) returns (bool)',\r\n    'function allowance(address owner, address spender) view returns (uint256)',\r\n    'function name() view returns (string)',\r\n    'function symbol() view returns (string)',\r\n    'function decimals() view returns (uint8)',\r\n    'function totalSupply() view returns (uint256)',\r\n  ],\r\n};\r\n\r\n/**\r\n * Utility constants\r\n */\r\nexport const UTILS = {\r\n  ZERO_ADDRESS: '0x0000000000000000000000000000000000000000',\r\n  DEAD_ADDRESS: '0x000000000000000000000000000000000000dEaD',\r\n  MAX_UINT256: '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff',\r\n};\r\n\r\n/**\r\n * Time constants (in seconds)\r\n */\r\nexport const TIME = {\r\n  SECOND: 1,\r\n  MINUTE: 60,\r\n  HOUR: 60 * 60,\r\n  DAY: 24 * 60 * 60,\r\n  WEEK: 7 * 24 * 60 * 60,\r\n  MONTH: 30 * 24 * 60 * 60,\r\n  YEAR: 365 * 24 * 60 * 60,\r\n};\r\n\r\n/**\r\n * Block time estimates (in seconds)\r\n */\r\nexport const BLOCK_TIME = {\r\n  bsc: 3, // BSC has ~3s block time\r\n  bscTestnet: 3,\r\n  ethereum: 12,\r\n};\r\n\r\n/**\r\n * Gas limit estimates for common operations\r\n */\r\nexport const GAS_LIMITS = {\r\n  CREATE_LAUNCH: 5000000n,\r\n  CREATE_INSTANT_LAUNCH: 5000000n,\r\n  CONTRIBUTE: 500000n,\r\n  BUY_TOKENS: 500000n,\r\n  SELL_TOKENS: 500000n,\r\n  CLAIM_FOUNDER_TOKENS: 150000n,\r\n  CLAIM_RAISED_FUNDS: 150000n,\r\n  GRADUATE_TO_PANCAKESWAP: 5000000n,\r\n  HARVEST_FEES: 500000n,\r\n  UNLOCK_LP: 200000n,\r\n  CLAIM_CONTRIBUTOR_TOKENS: 150000n, // Claim tokens after successful raise\r\n  CLAIM_REFUND: 100000n, // Claim refund after failed raise\r\n  BURN_FAILED_RAISE_TOKENS: 100000n, // Burn tokens from failed raise\r\n\r\n  // New admin functions\r\n  UPDATE_FALLBACK_PRICE: 50000n, // Update oracle fallback price\r\n  UPDATE_LP_FEE_HARVESTER: 50000n, // Update LP harvester address\r\n  EMERGENCY_WITHDRAW: 100000n,\r\n};\r\n","// src/contracts/BaseContract.ts\r\nimport { ethers } from 'ethers';\r\nimport { TxOptions, EventFilterOptions, ContractError } from '../types';\r\nimport { ERROR_MESSAGES } from '../constants';\r\nimport type { SafuPadGraph } from '../graph';\r\n\r\n/**\r\n * Base contract class with common functionality\r\n */\r\nexport abstract class BaseContract {\r\n  protected contract: ethers.Contract;\r\n  protected provider: ethers.Provider;\r\n  protected eventQueryProvider: ethers.Provider; // Separate provider for event queries (uses Alchemy if configured)\r\n  protected signer?: ethers.Signer;\r\n  protected address: string;\r\n  protected graph?: SafuPadGraph; // The Graph client for efficient data queries\r\n\r\n  constructor(\r\n    address: string,\r\n    abi: any[],\r\n    provider: ethers.Provider,\r\n    signer?: ethers.Signer,\r\n    eventQueryProvider?: ethers.Provider,\r\n    graph?: SafuPadGraph\r\n  ) {\r\n    this.address = address;\r\n    this.provider = provider;\r\n    this.signer = signer;\r\n    // Use eventQueryProvider if provided, otherwise use the regular provider\r\n    this.eventQueryProvider = eventQueryProvider || provider;\r\n    this.graph = graph;\r\n\r\n    if (signer) {\r\n      this.contract = new ethers.Contract(address, abi, signer);\r\n    } else {\r\n      this.contract = new ethers.Contract(address, abi, provider);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get contract address\r\n   */\r\n  getAddress(): string {\r\n    return this.address;\r\n  }\r\n\r\n  /**\r\n   * Get provider\r\n   */\r\n  getProvider(): ethers.Provider {\r\n    return this.provider;\r\n  }\r\n\r\n  /**\r\n   * Get signer\r\n   */\r\n  getSigner(): ethers.Signer | undefined {\r\n    return this.signer;\r\n  }\r\n\r\n  /**\r\n   * Update signer\r\n   */\r\n  updateSigner(signer: ethers.Signer): void {\r\n    this.signer = signer;\r\n    this.contract = new ethers.Contract(\r\n      this.address,\r\n      this.contract.interface,\r\n      signer\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Update graph client\r\n   */\r\n  updateGraph(graph: SafuPadGraph): void {\r\n    this.graph = graph;\r\n  }\r\n\r\n  /**\r\n   * Check if The Graph client is available\r\n   */\r\n  protected hasGraphSupport(): boolean {\r\n    return this.graph !== undefined;\r\n  }\r\n\r\n  /**\r\n   * Require signer to be available\r\n   */\r\n  protected requireSigner(): void {\r\n    if (!this.signer) {\r\n      throw new Error(ERROR_MESSAGES.NO_SIGNER);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate Ethereum address\r\n   */\r\n  protected validateAddress(address: string): void {\r\n    if (!ethers.isAddress(address)) {\r\n      throw new Error(`${ERROR_MESSAGES.INVALID_ADDRESS}: ${address}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate amount\r\n   */\r\n  protected validateAmount(amount: bigint): void {\r\n    if (amount <= 0n) {\r\n      throw new Error(ERROR_MESSAGES.INVALID_AMOUNT);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Build transaction options\r\n   */\r\n  protected buildTxOptions(\r\n    options?: TxOptions,\r\n    defaultGasLimit?: bigint\r\n  ): TxOptions {\r\n    const txOptions: TxOptions = {};\r\n    \r\n    if (options?.gasLimit) {\r\n      txOptions.gasLimit = options.gasLimit;\r\n    } else if (defaultGasLimit) {\r\n      txOptions.gasLimit = defaultGasLimit;\r\n    }\r\n    \r\n    if (options?.gasPrice) {\r\n      txOptions.gasPrice = options.gasPrice;\r\n    }\r\n    \r\n    if (options?.value) {\r\n      txOptions.value = options.value;\r\n    }\r\n    \r\n    if (options?.nonce !== undefined) {\r\n      txOptions.nonce = options.nonce;\r\n    }\r\n    \r\n    return txOptions;\r\n  }\r\n\r\n  /**\r\n   * Handle contract errors\r\n   */\r\n  protected handleError(error: any): never {\r\n    let message = ERROR_MESSAGES.CONTRACT_ERROR;\r\n    let code: string | undefined;\r\n    let details: any;\r\n\r\n    if (error.reason) {\r\n      message = error.reason;\r\n    } else if (error.message) {\r\n      message = error.message;\r\n    }\r\n\r\n    if (error.code) {\r\n      code = error.code;\r\n    }\r\n\r\n    if (error.data) {\r\n      details = error.data;\r\n    }\r\n\r\n    throw new ContractError(message, { code, details, original: error });\r\n  }\r\n\r\n  /**\r\n   * Call contract function safely\r\n   */\r\n  protected async callSafely<T>(\r\n    fn: () => Promise<T>,\r\n    errorMessage?: string\r\n  ): Promise<T> {\r\n    try {\r\n      return await fn();\r\n    } catch (error) {\r\n      if (errorMessage) {\r\n        throw new ContractError(errorMessage, { original: error });\r\n      }\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add event listener\r\n   */\r\n  protected addEventListener(\r\n    eventName: string,\r\n    callback: (event: any) => void,\r\n    filter?: EventFilterOptions\r\n  ): () => void {\r\n    const eventFilter = this.contract.filters[eventName]?.();\r\n\r\n    if (!eventFilter) {\r\n      throw new Error(`Event ${eventName} not found`);\r\n    }\r\n\r\n    const listener = (...args: any[]) => {\r\n      const event = args[args.length - 1];\r\n      callback(event);\r\n    };\r\n\r\n    if (filter?.fromBlock || filter?.toBlock) {\r\n      // Query past events using eventQueryProvider\r\n      const eventContract = new ethers.Contract(\r\n        this.address,\r\n        this.contract.interface,\r\n        this.eventQueryProvider\r\n      );\r\n      eventContract.queryFilter(\r\n        eventFilter,\r\n        filter.fromBlock,\r\n        filter.toBlock\r\n      ).then((events) => {\r\n        events.forEach((event) => callback(event));\r\n      });\r\n    }\r\n\r\n    // Listen for new events\r\n    this.contract.on(eventFilter, listener);\r\n\r\n    // Return cleanup function\r\n    return () => {\r\n      this.contract.off(eventFilter, listener);\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Remove all event listeners\r\n   */\r\n  removeAllListeners(eventName?: string): void {\r\n    if (eventName) {\r\n      this.contract.removeAllListeners(eventName);\r\n    } else {\r\n      this.contract.removeAllListeners();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get past events\r\n   * Uses eventQueryProvider (Alchemy if configured) for better performance\r\n   */\r\n  async getPastEvents(\r\n    eventName: string,\r\n    filter?: EventFilterOptions\r\n  ): Promise<ethers.EventLog[]> {\r\n    const eventFilter = this.contract.filters[eventName]?.();\r\n\r\n    if (!eventFilter) {\r\n      throw new Error(`Event ${eventName} not found`);\r\n    }\r\n\r\n    // Create a contract instance using eventQueryProvider for querying events\r\n    const eventContract = new ethers.Contract(\r\n      this.address,\r\n      this.contract.interface,\r\n      this.eventQueryProvider\r\n    );\r\n\r\n    const events = await eventContract.queryFilter(\r\n      eventFilter,\r\n      filter?.fromBlock,\r\n      filter?.toBlock\r\n    );\r\n\r\n    return events as ethers.EventLog[];\r\n  }\r\n\r\n  /**\r\n   * Estimate gas for a contract call\r\n   */\r\n  protected async estimateGas(\r\n    functionName: string,\r\n    args: any[],\r\n    overrides?: TxOptions\r\n  ): Promise<bigint> {\r\n    try {\r\n      return await this.contract[functionName].estimateGas(...args, overrides);\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if contract is deployed\r\n   */\r\n  async isDeployed(): Promise<boolean> {\r\n    const code = await this.provider.getCode(this.address);\r\n    return code !== '0x';\r\n  }\r\n\r\n  /**\r\n   * Get contract instance (for advanced usage)\r\n   */\r\n  getContract(): ethers.Contract {\r\n    return this.contract;\r\n  }\r\n}","// src/abis/index.ts\r\n\r\n/**\r\n * Contract ABIs\r\n *\r\n * These are minimal ABIs containing only the functions used by the SDK.\r\n * For full ABIs, import from your compiled contracts.\r\n *\r\n * ✅ UPDATED: Removed projectInfoFiWallet parameters and updated signatures\r\n * ✅ UPDATED: BondingCurveDEX no longer has LaunchType (INSTANT_LAUNCH only)\r\n * ✅ UPDATED: Added missing functions from LaunchpadManagerV3 contract\r\n */\r\n\r\nexport const LaunchpadManagerABI = [\r\n  // Create functions - ✅ UPDATED: Removed address parameter for projectInfoFiWallet\r\n  'function createLaunch(string,string,uint256,uint256,uint256,uint256,tuple(string,string,string,string,string,string),bool) returns (address)',\r\n  'function createLaunchWithVanity(string,string,uint256,uint256,uint256,uint256,tuple(string,string,string,string,string,string),bytes32,bool) returns (address)',\r\n  'function createInstantLaunch(string,string,uint256,tuple(string,string,string,string,string,string),uint256,bool) payable returns (address)',\r\n  'function createInstantLaunchWithVanity(string,string,uint256,tuple(string,string,string,string,string,string),uint256,bytes32,bool) payable returns (address)',\r\n\r\n  // Core functions\r\n  'function contribute(address) payable',\r\n  'function claimFounderTokens(address)',\r\n  'function claimRaisedFunds(address)',\r\n  'function graduateToPancakeSwap(address)',\r\n  'function launchVesting(address) view returns (uint256 startMarketCap, uint256 vestingDuration, uint256 vestingStartTime, uint256 founderTokens, uint256 founderTokensClaimed)',\r\n\r\n  // ✅ NEW: Critical functions for Project Raise flow (FIX #2, #3, #6)\r\n  'function claimContributorTokens(address)',\r\n  'function claimRefund(address)',\r\n  'function burnFailedRaiseTokens(address)',\r\n\r\n  // View functions - ✅ UPDATED: Removed projectInfoFiWallet from return values\r\n  'function getLaunchInfo(address) view returns (address,uint256,uint256,uint256,uint256,bool,bool,uint256,uint256,uint8,bool)',\r\n  'function getLaunchInfoWithUSD(address) view returns (address,uint256,uint256,uint256,uint256,uint256,uint256,uint256,bool,uint8,bool)',\r\n  'function getClaimableAmounts(address) view returns (uint256,uint256)',\r\n  'function getContribution(address,address) view returns (uint256,bool)',\r\n  'function getAllLaunches() view returns (address[])',\r\n\r\n  // Admin functions\r\n  'function updateInfoFiAddress(address)',\r\n  'function handlePostGraduationSell(address token, uint256 tokenAmount,uint256 minBNBOut)',\r\n  'function handlePostGraduationBuy(address token, uint256 minTokensOut) payable',\r\n\r\n  // ✅ NEW: Additional admin functions\r\n  'function updateFallbackPrice(uint256)',\r\n  'function updateLPFeeHarvester(address)',\r\n  'function emergencyWithdraw(address)',\r\n\r\n  // ✅ NEW: Vesting and Community Control Functions\r\n  'function claimVestedTokens(address)',\r\n  'function updateMarketCap(address)',\r\n  'function transferFundsToTimelock(address)',\r\n  'function burnVestedTokensOnCommunityControl(address)',\r\n  'function updateTimelockBeneficiary(address, address)',\r\n  'function getCommunityControlInfo(address) view returns (bool, uint256, uint256, uint256, uint256, uint256)',\r\n  'function getClaimableVestedTokens(address) view returns (uint256)',\r\n  'function getMarketCapHistory(address) view returns (uint256[])',\r\n\r\n  // Events - ✅ UPDATED: Removed projectInfoFiWallet parameter\r\n  'event LaunchCreated(address indexed,address indexed,uint256,uint8,uint256,uint256,uint256,bool,bool)',\r\n  'event InstantLaunchCreated(address indexed,address indexed,uint256,uint256,uint256,bool)',\r\n  'event ContributionMade(address indexed,address indexed,uint256)',\r\n  'event RaiseCompleted(address indexed,uint256)',\r\n  'event GraduatedToPancakeSwap(address indexed,uint256,uint256)',\r\n  'event FounderTokensClaimed(address indexed,address indexed,uint256)',\r\n  'event RaisedFundsClaimed(address indexed,address indexed,uint256)',\r\n  'event RaisedFundsSentToInfoFi(address indexed,uint256)',\r\n  'event TokensBurned(address indexed,uint256)',\r\n  'event LPBurned(address indexed,address indexed,uint256)',\r\n  'event LPLocked(address indexed,address indexed,uint256)',\r\n  'event TransfersEnabled(address indexed,uint256)',\r\n  'event InfoFiAddressUpdated(address indexed)',\r\n\r\n  // ✅ NEW: Critical events for Project Raise flow\r\n  'event ContributorTokensClaimed(address indexed,address indexed,uint256)',\r\n  'event RefundClaimed(address indexed,address indexed,uint256)',\r\n  'event RaiseFailed(address indexed,uint256)',\r\n  'event PlatformFeePaid(address indexed,uint256,string)',\r\n\r\n  // ✅ NEW: Additional events\r\n  'event PostGraduationSell(address indexed,address indexed,uint256,uint256,uint256,uint256)',\r\n  'event PostGraduationBuy(address indexed,address indexed,uint256,uint256,uint256)',\r\n  'event LPTokensHandled(address indexed,address indexed,uint256,bool)',\r\n  'event PriceFeedUpdated(address indexed)',\r\n  'event FallbackPriceUpdated(uint256)',\r\n  'event OracleModeChanged(bool)',\r\n\r\n  // ✅ NEW: Community Control Events\r\n  'event VestedTokensBurnedByCommunityControl(address indexed, uint256)',\r\n  'event CommunityControlTriggered(address indexed, uint256, uint256, uint256)',\r\n];\r\n\r\n/**\r\n * BondingCurveDEX ABI - INSTANT_LAUNCH Only\r\n * ✅ UPDATED: Removed LaunchType parameters - all pools are INSTANT_LAUNCH\r\n */\r\nexport const BondingCurveDEXABI = [\r\n  // Pool creation (only INSTANT_LAUNCH)\r\n  'function createInstantLaunchPool(address,uint256,address,bool) payable',\r\n\r\n  // Trading functions\r\n  'function buyTokens(address,uint256) payable',\r\n  'function sellTokens(address,uint256,uint256)',\r\n\r\n  // Pool management\r\n  'function withdrawGraduatedPool(address) returns (uint256,uint256,uint256,address)',\r\n  'function setLPToken(address)',\r\n  'function graduatePool(address)',\r\n\r\n  // View functions\r\n  'function getBuyQuote(address,uint256) view returns (uint256,uint256)',\r\n  'function getSellQuote(address,uint256) view returns (uint256,uint256)',\r\n  'function getPoolInfo(address) view returns (uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint256,bool)',\r\n  'function getCurrentFeeRate(address) view returns (uint256)',\r\n  'function getFeeInfo(address) view returns (uint256,uint256,uint256,uint256,string)',\r\n  'function getCreatorFeeInfo(address) view returns (uint256,uint256,uint256,uint256,uint256,bool)',\r\n  'function getPostGraduationStats(address) view returns (uint256,uint256,uint256)',\r\n  'function getActiveTokens() view returns (address[])',\r\n  'function getPoolDebugInfo(address) view returns (uint256,uint256,uint256,uint256)',\r\n\r\n  // Claim functions\r\n  'function claimCreatorFees(address)',\r\n\r\n  // Events - ✅ UPDATED: Removed LaunchType parameter from PoolCreated\r\n  'event PoolCreated(address indexed,uint256,uint256,uint256,address indexed,uint256,uint256,uint256)',\r\n  'event TokensBought(address indexed,address indexed,uint256,uint256,uint256,uint256)',\r\n  'event TokensSold(address indexed,address indexed,uint256,uint256,uint256,uint256)',\r\n  'event PoolGraduated(address indexed,uint256,uint256,uint256,uint256)',\r\n  'event CreatorFeesClaimed(address indexed,address indexed,uint256)',\r\n  'event CreatorFeesRedirectedToInfoFi(address indexed,uint256)',\r\n  'event PostGraduationSell(address indexed,address indexed,uint256,uint256,uint256,uint256)',\r\n  'event LPTokensHandled(address indexed,address indexed,uint256,bool)',\r\n  'event FeesCollected(address indexed,uint256,uint256,uint256)',\r\n  'event LiquidityIncreased(address indexed,uint256)',\r\n  'event Paused(address indexed)',\r\n  'event Unpaused(address indexed)',\r\n];\r\n\r\nexport const TokenFactoryABI = [\r\n  'function getTotalTokens() view returns (uint256)',\r\n  'function getTokenAtIndex(uint256) view returns (address)',\r\n  'function getCreatorTokens(address) view returns (address[])',\r\n  'function computeAddress(string,string,uint256,uint8,address,tuple(string,string,string,string,string,string),bytes32) view returns (address)',\r\n];\r\n\r\nexport const PriceOracleABI = [\r\n  'function getBNBPrice() view returns (uint256)', // Returns BNB price in USD\r\n  'function usdToBNB(uint256) view returns (uint256)', // Converts USD to BNB\r\n  'function bnbToUSD(uint256) view returns (uint256)', // Converts BNB to USD\r\n  'function priceFeed() view returns (address)',\r\n];\r\n\r\nexport const LPFeeHarvesterABI = [\r\n  'function getLockInfo(address) view returns (address,address,address,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256,uint256)',\r\n  'function getHarvestHistory(address) view returns (tuple(uint256,uint256,uint256,uint256,uint256)[])',\r\n  'function getPlatformStats() view returns (uint256,uint256,uint256,uint256)',\r\n  'function canHarvest(address) view returns (bool,uint256)',\r\n  'function harvestFees(address)',\r\n  'function unlockLP(address)',\r\n  'function extendLock(address,uint256)',\r\n  'function getAllLockedProjects() view returns (address[])',\r\n  'function getActiveLocksCount() view returns (uint256)',\r\n  'function getLPValue(address) view returns (uint256,uint256,address,address)',\r\n\r\n  'event FeesHarvested(address indexed,uint256,uint256,uint256,uint256,uint256)',\r\n  'event FeesDistributed(address indexed,address indexed,uint256,uint256,uint256)',\r\n  'event LPUnlocked(address indexed,address indexed,uint256,uint256)',\r\n  'event LockExtended(address indexed,uint256,uint256)',\r\n  'event LPLocked(address indexed,address indexed,address indexed,address,uint256,uint256)',\r\n];\r\n","// src/contracts/LaunchpadManager.ts\r\nimport { ethers } from 'ethers';\r\nimport { BaseContract } from './BaseContract';\r\nimport {\r\n  CreateLaunchParams,\r\n  CreateInstantLaunchParams,\r\n  LaunchInfo,\r\n  LaunchInfoWithUSD,\r\n  ClaimableAmounts,\r\n  ContributionInfo,\r\n  TxResult,\r\n  TxOptions,\r\n  EventFilterOptions,\r\n  FounderInfo,\r\n  TeamMember,\r\n  LaunchTeamInfo,\r\n} from '../types';\r\nimport { CONSTANTS, GAS_LIMITS } from '../constants';\r\nimport { LaunchpadManagerABI } from '../abis';\r\n\r\n/**\r\n * Launch vesting information\r\n */\r\nexport interface LaunchVesting {\r\n  startMarketCap: bigint;\r\n  vestingDuration: bigint;\r\n  vestingStartTime: bigint;\r\n  founderTokens: bigint;\r\n  founderTokensClaimed: bigint;\r\n}\r\n\r\n/**\r\n * LaunchpadManager contract wrapper (LaunchpadManagerV3 - BNBad)\r\n *\r\n * Supports two launch types:\r\n * 1. PROJECT_RAISE: Contribution-based fundraising (72-hour / 3-day raise period)\r\n *    - Users contribute BNB (BNBad native token) during raise period\r\n *    - Tokens distributed proportionally after raise completes\r\n *    - Does NOT use BondingCurveDEX\r\n *    - Graduates directly to PancakeSwap after successful raise\r\n *    - Token allocation: 60% founder (immediate), 20% contributors, 10% liquidity, 10% vested (community control)\r\n *\r\n * 2. INSTANT_LAUNCH: Bonding curve trading (via BondingCurveDEX)\r\n *    - Creates pool in BondingCurveDEX for immediate trading\r\n *    - Uses bonding curve AMM formula\r\n *    - Graduates to PancakeSwap at market cap threshold\r\n *\r\n * ✅ BNBad Migration: All amounts use BNB (BNBad) instead of BNB\r\n * ✅ Community Control: 10% tokens vest over time, with community control trigger if market cap stays low\r\n */\r\nexport class LaunchpadManager extends BaseContract {\r\n  constructor(\r\n    address: string,\r\n    provider: ethers.Provider,\r\n    signer?: ethers.Signer,\r\n    eventQueryProvider?: ethers.Provider,\r\n    graph?: any // SafuPadGraph type imported in BaseContract\r\n  ) {\r\n    super(address, LaunchpadManagerABI, provider, signer, eventQueryProvider, graph);\r\n  }\r\n\r\n  /**\r\n   * Create a new PROJECT_RAISE launch\r\n   *\r\n   * PROJECT_RAISE launches:\r\n   * - 72-hour (3-day) contribution period\r\n   * - Tokens distributed after raise completes\r\n   * - Does NOT use BondingCurveDEX\r\n   * - Token allocation: 60% founder (immediate), 20% contributors, 10% PancakeSwap liquidity, 10% vested (community control)\r\n   * - 20% of raised BNB goes to liquidity\r\n   * - Vesting duration is fixed at 180 days (contract overrides parameter)\r\n   *\r\n   * ✅ Uses BNB (BNBad) for all amounts\r\n   * ✅ Includes team information (founder + up to 2 team members)\r\n   * ⚠️  NOTE: vanitySalt parameter is ignored - vanity addresses not supported in current contract version\r\n   */\r\n  async createLaunch(params: CreateLaunchParams, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n\r\n    // Validate params\r\n    this.validateLaunchParams(params);\r\n\r\n    // ✅ Parse BNB amounts (BNBad native token)\r\n    const raiseTargetBNB = ethers.parseEther(params.raiseTargetBNB);\r\n    const raiseMaxBNB = ethers.parseEther(params.raiseMaxBNB);\r\n    const vestingDuration = params.vestingDuration * 24 * 60 * 60; // days to seconds\r\n\r\n    // Prepare metadata\r\n    const metadata = [\r\n      params.metadata.logoURI,\r\n      params.metadata.description,\r\n      params.metadata.website,\r\n      params.metadata.twitter,\r\n      params.metadata.telegram,\r\n      params.metadata.discord,\r\n    ];\r\n\r\n    // Prepare team info struct for contract\r\n    const teamInfo = [\r\n      // FounderInfo\r\n      [\r\n        params.teamInfo.founder.name,\r\n        params.teamInfo.founder.walletAddress,\r\n        params.teamInfo.founder.bio,\r\n      ],\r\n      // TeamMember1\r\n      [\r\n        params.teamInfo.teamMember1.name,\r\n        params.teamInfo.teamMember1.role,\r\n        params.teamInfo.teamMember1.twitter,\r\n        params.teamInfo.teamMember1.linkedin,\r\n      ],\r\n      // TeamMember2\r\n      [\r\n        params.teamInfo.teamMember2.name,\r\n        params.teamInfo.teamMember2.role,\r\n        params.teamInfo.teamMember2.twitter,\r\n        params.teamInfo.teamMember2.linkedin,\r\n      ],\r\n      // teamMemberCount\r\n      params.teamInfo.teamMemberCount,\r\n    ];\r\n\r\n    // ⚠️  Vanity salt is ignored - contract doesn't support createLaunchWithVanity\r\n    // Only createLaunch() function exists in current contract version\r\n    const tx: ethers.ContractTransactionResponse = await this.contract.createLaunch(\r\n      params.name,\r\n      params.symbol,\r\n      params.totalSupply,\r\n      raiseTargetBNB,\r\n      raiseMaxBNB,\r\n      vestingDuration,\r\n      metadata,\r\n      params.burnLP,\r\n      teamInfo,\r\n      this.buildTxOptions(options, GAS_LIMITS.CREATE_LAUNCH)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create a new INSTANT_LAUNCH\r\n   *\r\n   * INSTANT_LAUNCH:\r\n   * - Creates pool in BondingCurveDEX immediately\r\n   * - Bonding curve trading with dynamic fees\r\n   * - Graduates to PancakeSwap at market cap threshold\r\n   * - Must send BNB with transaction for initial buy\r\n   *\r\n   * ✅ Uses BNB (BNBad) for all amounts\r\n   * ⚠️  NOTE: vanitySalt parameter is ignored - vanity addresses not supported in current contract version\r\n   */\r\n  async createInstantLaunch(\r\n    params: CreateInstantLaunchParams,\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n\r\n    // Validate params\r\n    if (params.totalSupply !== 1000000000) {\r\n      throw new Error('Total supply must be 1 billion for instant launch');\r\n    }\r\n\r\n    // Convert initial buy amount (BNB)\r\n    const initialBuyBNB = ethers.parseEther(params.initialBuyBNB);\r\n\r\n    // Prepare metadata\r\n    const metadata = [\r\n      params.metadata.logoURI,\r\n      params.metadata.description,\r\n      params.metadata.website,\r\n      params.metadata.twitter,\r\n      params.metadata.telegram,\r\n      params.metadata.discord,\r\n    ];\r\n\r\n    // Must send BNB with transaction\r\n    const txOptions = this.buildTxOptions(options, GAS_LIMITS.CREATE_INSTANT_LAUNCH);\r\n    txOptions.value = initialBuyBNB;\r\n\r\n    // ⚠️  Vanity salt is ignored - contract doesn't support createInstantLaunchWithVanity\r\n    // Only createInstantLaunch() function exists in current contract version\r\n    const tx: ethers.ContractTransactionResponse = await this.contract.createInstantLaunch(\r\n      params.name,\r\n      params.symbol,\r\n      params.totalSupply,\r\n      metadata,\r\n      initialBuyBNB,\r\n      params.burnLP,\r\n      txOptions\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Contribute BNB to a PROJECT_RAISE launch\r\n   *\r\n   * Note: Only works for PROJECT_RAISE tokens (not INSTANT_LAUNCH)\r\n   * INSTANT_LAUNCH tokens trade on bonding curve instead via BondingCurveDEX\r\n   *\r\n   * ✅ Uses BNB (BNBad) for contribution\r\n   */\r\n  async contribute(\r\n    tokenAddress: string,\r\n    BNBAmount: string,\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const amount = ethers.parseEther(BNBAmount);\r\n    const txOptions = this.buildTxOptions(options, GAS_LIMITS.CONTRIBUTE);\r\n    txOptions.value = amount;\r\n\r\n    const tx = await this.contract.contribute(tokenAddress, txOptions);\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Claim founder tokens\r\n   *\r\n   * For PROJECT_RAISE: Founder gets 60% of tokens immediately (no vesting)\r\n   * Works for both PROJECT_RAISE and INSTANT_LAUNCH\r\n   */\r\n  async claimFounderTokens(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.claimFounderTokens(\r\n      tokenAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.CLAIM_FOUNDER_TOKENS)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Claim raised funds (BNB from raise, 80% available immediately)\r\n   *\r\n   * Note: Only for PROJECT_RAISE tokens\r\n   * INSTANT_LAUNCH tokens don't have raised funds to claim\r\n   */\r\n  async claimRaisedFunds(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.claimRaisedFunds(\r\n      tokenAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.CLAIM_RAISED_FUNDS)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Graduate pool to PancakeSwap\r\n   *\r\n   * For PROJECT_RAISE:\r\n   * - Adds liquidity to PancakeSwap with 20% of raised BNB\r\n   * - Uses 10% of tokens reserved for PancakeSwap liquidity\r\n   *\r\n   * For INSTANT_LAUNCH:\r\n   * - Withdraws graduated pool from BondingCurveDEX\r\n   * - Adds liquidity with BNB + 20% of tokens\r\n   */\r\n  async graduateToPancakeSwap(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.graduateToPancakeSwap(\r\n      tokenAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.GRADUATE_TO_PANCAKESWAP)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Handle post-graduation selling for PROJECT_RAISE tokens\r\n   *\r\n   * Allows users to sell their tokens after a PROJECT_RAISE has graduated to PancakeSwap.\r\n   * The function:\r\n   * - Takes 1% platform fee on tokens\r\n   * - Swaps half the tokens for BNB\r\n   * - Adds the other half + BNB back to liquidity pool\r\n   * - Burns the LP tokens\r\n   * - Pays seller 70% of the BNB from swap\r\n   * - Remaining 30% goes back to liquidity\r\n   *\r\n   * Note: Only works for PROJECT_RAISE tokens that have graduated\r\n   *\r\n   * @param tokenAddress Address of the PROJECT_RAISE token\r\n   * @param tokenAmount Amount of tokens to sell (in wei)\r\n   * @param minBNBOut Minimum BNB to receive (slippage protection)\r\n   */\r\n  async handlePostGraduationSell(\r\n    tokenAddress: string,\r\n    tokenAmount: string,\r\n    minBNBOut: string,\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const amount = ethers.parseEther(tokenAmount);\r\n    const minOut = ethers.parseEther(minBNBOut);\r\n\r\n    const tx = await this.contract.handlePostGraduationSell(\r\n      tokenAddress,\r\n      amount,\r\n      minOut,\r\n      this.buildTxOptions(options, GAS_LIMITS.CONTRIBUTE) // Similar gas to contribute\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Handle post-graduation buying for PROJECT_RAISE tokens\r\n   *\r\n   * Allows users to buy tokens after a PROJECT_RAISE has graduated to PancakeSwap.\r\n   * The function:\r\n   * - Takes 1% platform fee on BNB\r\n   * - Swaps remaining BNB for tokens via PancakeSwap\r\n   * - Sends tokens directly to buyer\r\n   *\r\n   * Note: Only works for PROJECT_RAISE tokens that have graduated\r\n   *\r\n   * @param tokenAddress Address of the PROJECT_RAISE token\r\n   * @param BNBAmount Amount of BNB to spend (in ether string)\r\n   * @param minTokensOut Minimum tokens to receive (slippage protection, in ether string)\r\n   * @param options Transaction options\r\n   */\r\n  async handlePostGraduationBuy(\r\n    tokenAddress: string,\r\n    BNBAmount: string,\r\n    minTokensOut: string,\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const amount = ethers.parseEther(BNBAmount);\r\n    const minOut = ethers.parseEther(minTokensOut);\r\n\r\n    const txOptions = this.buildTxOptions(options, GAS_LIMITS.CONTRIBUTE); // Similar gas to contribute\r\n    txOptions.value = amount; // Must send BNB with transaction\r\n\r\n    const tx = await this.contract.handlePostGraduationBuy(\r\n      tokenAddress,\r\n      minOut,\r\n      txOptions\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get launch information\r\n   * ✅ UPDATED: No longer returns projectInfoFiWallet\r\n   */\r\n  async getLaunchInfo(tokenAddress: string): Promise<LaunchInfo> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const info = await this.contract.getLaunchInfo(tokenAddress);\r\n\r\n    return {\r\n      founder: info[0],\r\n      raiseTarget: info[1],\r\n      raiseMax: info[2],\r\n      totalRaised: info[3],\r\n      raiseDeadline: info[4],\r\n      raiseCompleted: info[5],\r\n      graduatedToPancakeSwap: info[6],\r\n      raisedFundsVesting: info[7],\r\n      raisedFundsClaimed: info[8],\r\n      launchType: info[9], // 0 = PROJECT_RAISE, 1 = INSTANT_LAUNCH\r\n      burnLP: info[10],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get launch information with USD values\r\n   * ✅ UPDATED: Returns BNB amounts (BNBad native token) + USD equivalents\r\n   */\r\n  async getLaunchInfoWithUSD(tokenAddress: string): Promise<LaunchInfoWithUSD> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const info = await this.contract.getLaunchInfoWithUSD(tokenAddress);\r\n\r\n    return {\r\n      founder: info[0],\r\n      raiseTargetBNB: info[1],\r\n      raiseTargetUSD: info[2],\r\n      raiseMaxBNB: info[3],\r\n      raiseMaxUSD: info[4],\r\n      totalRaisedBNB: info[5],\r\n      totalRaisedUSD: info[6],\r\n      raiseDeadline: info[7],\r\n      raiseCompleted: info[8],\r\n      launchType: info[9], // 0 = PROJECT_RAISE, 1 = INSTANT_LAUNCH\r\n      burnLP: info[10],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get claimable amounts for founder\r\n   */\r\n  async getClaimableAmounts(tokenAddress: string): Promise<ClaimableAmounts> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const amounts = await this.contract.getClaimableAmounts(tokenAddress);\r\n\r\n    return {\r\n      claimableTokens: amounts[0],\r\n      claimableFunds: amounts[1],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get launch vesting information\r\n   * Returns details about the vesting schedule for founder tokens\r\n   */\r\n  async getLaunchVesting(tokenAddress: string): Promise<LaunchVesting> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const vesting = await this.contract.launchVesting(tokenAddress);\r\n\r\n    return {\r\n      startMarketCap: vesting.startMarketCap,\r\n      vestingDuration: vesting.vestingDuration,\r\n      vestingStartTime: vesting.vestingStartTime,\r\n      founderTokens: vesting.founderTokens,\r\n      founderTokensClaimed: vesting.founderTokensClaimed,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get vesting progress percentage (0-100)\r\n   */\r\n  async getVestingProgress(tokenAddress: string): Promise<number> {\r\n    const vesting = await this.getLaunchVesting(tokenAddress);\r\n\r\n    if (vesting.founderTokens === 0n) {\r\n      return 0;\r\n    }\r\n\r\n    const progress = Number((vesting.founderTokensClaimed * 10000n) / vesting.founderTokens) / 100;\r\n    return Math.min(progress, 100);\r\n  }\r\n\r\n  /**\r\n   * Get time-based vesting progress (0-100)\r\n   * Based on how much time has passed in the vesting period\r\n   */\r\n  async getTimeBasedVestingProgress(tokenAddress: string): Promise<number> {\r\n    const vesting = await this.getLaunchVesting(tokenAddress);\r\n\r\n    if (vesting.vestingDuration === 0n) {\r\n      return 100;\r\n    }\r\n\r\n    const currentTime = BigInt(Math.floor(Date.now() / 1000));\r\n    const vestingStartTime = vesting.vestingStartTime;\r\n    const vestingEndTime = vestingStartTime + vesting.vestingDuration;\r\n\r\n    if (currentTime >= vestingEndTime) {\r\n      return 100;\r\n    }\r\n\r\n    if (currentTime <= vestingStartTime) {\r\n      return 0;\r\n    }\r\n\r\n    const elapsed = currentTime - vestingStartTime;\r\n    const progress = Number((elapsed * 10000n) / vesting.vestingDuration) / 100;\r\n    return Math.min(progress, 100);\r\n  }\r\n\r\n  /**\r\n   * Get remaining vesting time in seconds\r\n   */\r\n  async getRemainingVestingTime(tokenAddress: string): Promise<number> {\r\n    const vesting = await this.getLaunchVesting(tokenAddress);\r\n\r\n    const currentTime = BigInt(Math.floor(Date.now() / 1000));\r\n    const vestingEndTime = vesting.vestingStartTime + vesting.vestingDuration;\r\n\r\n    if (currentTime >= vestingEndTime) {\r\n      return 0;\r\n    }\r\n\r\n    return Number(vestingEndTime - currentTime);\r\n  }\r\n\r\n  /**\r\n   * Get contribution info for an address\r\n   *\r\n   * Note: Only relevant for PROJECT_RAISE tokens\r\n   */\r\n  async getContribution(tokenAddress: string, contributor: string): Promise<ContributionInfo> {\r\n    this.validateAddress(tokenAddress);\r\n    this.validateAddress(contributor);\r\n\r\n    const info = await this.contract.getContribution(tokenAddress, contributor);\r\n\r\n    return {\r\n      amount: info[0],\r\n      claimed: info[1],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get all launches (both PROJECT_RAISE and INSTANT_LAUNCH)\r\n   */\r\n  async getAllLaunches(): Promise<string[]> {\r\n    return await this.contract.getAllLaunches();\r\n  }\r\n\r\n  /**\r\n   * Check if address is a valid launch\r\n   */\r\n  async isValidLaunch(tokenAddress: string): Promise<boolean> {\r\n    try {\r\n      const info = await this.getLaunchInfo(tokenAddress);\r\n      return info.founder !== ethers.ZeroAddress;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get launch progress percentage\r\n   *\r\n   * Note: Only meaningful for PROJECT_RAISE tokens\r\n   * For INSTANT_LAUNCH, check BondingCurveDEX graduation progress instead\r\n   */\r\n  async getLaunchProgress(tokenAddress: string): Promise<number> {\r\n    const info = await this.getLaunchInfo(tokenAddress);\r\n\r\n    if (info.raiseTarget === 0n) {\r\n      return 100;\r\n    }\r\n\r\n    const progress = Number((info.totalRaised * 10000n) / info.raiseTarget) / 100;\r\n    return Math.min(progress, 100);\r\n  }\r\n\r\n  /**\r\n   * Check if launch deadline has passed\r\n   *\r\n   * Note: Only relevant for PROJECT_RAISE tokens (72-hour / 3-day deadline)\r\n   * INSTANT_LAUNCH tokens have no deadline\r\n   */\r\n  async hasLaunchDeadlinePassed(tokenAddress: string): Promise<boolean> {\r\n    const info = await this.getLaunchInfo(tokenAddress);\r\n    const currentTime = Math.floor(Date.now() / 1000);\r\n    return Number(info.raiseDeadline) < currentTime;\r\n  }\r\n\r\n  /**\r\n   * Get time remaining until deadline\r\n   *\r\n   * Note: Only relevant for PROJECT_RAISE tokens\r\n   * Returns 0 for INSTANT_LAUNCH tokens\r\n   */\r\n  async getTimeUntilDeadline(tokenAddress: string): Promise<number> {\r\n    const info = await this.getLaunchInfo(tokenAddress);\r\n    const currentTime = Math.floor(Date.now() / 1000);\r\n    const timeRemaining = Number(info.raiseDeadline) - currentTime;\r\n    return Math.max(timeRemaining, 0);\r\n  }\r\n\r\n  /**\r\n   * Listen to LaunchCreated events (PROJECT_RAISE)\r\n   */\r\n  onLaunchCreated(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('LaunchCreated', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * Listen to InstantLaunchCreated events (INSTANT_LAUNCH)\r\n   */\r\n  onInstantLaunchCreated(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('InstantLaunchCreated', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * Listen to ContributionMade events (PROJECT_RAISE only)\r\n   */\r\n  onContributionMade(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('ContributionMade', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * Listen to RaiseCompleted events (PROJECT_RAISE only)\r\n   */\r\n  onRaiseCompleted(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('RaiseCompleted', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * Listen to GraduatedToPancakeSwap events (both launch types)\r\n   */\r\n  onGraduatedToPancakeSwap(\r\n    callback: (event: any) => void,\r\n    filter?: EventFilterOptions\r\n  ): () => void {\r\n    return this.addEventListener('GraduatedToPancakeSwap', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Claim contributor tokens after successful PROJECT_RAISE\r\n   *\r\n   * After a successful PROJECT_RAISE, contributors can claim their proportional\r\n   * share of tokens from the 70% contributor allocation.\r\n   *\r\n   * Note: Only works for PROJECT_RAISE tokens after successful raise\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @param options - Transaction options\r\n   */\r\n  async claimContributorTokens(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.claimContributorTokens(\r\n      tokenAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.CLAIM_CONTRIBUTOR_TOKENS)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Claim refund after failed PROJECT_RAISE\r\n   *\r\n   * If a PROJECT_RAISE fails to meet its target after the 72-hour (3-day) deadline,\r\n   * contributors can claim their BNB refunds.\r\n   *\r\n   * Note: Only works for PROJECT_RAISE tokens that failed to meet target\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @param options - Transaction options\r\n   */\r\n  async claimRefund(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.claimRefund(\r\n      tokenAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.CLAIM_REFUND)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Burn tokens from failed PROJECT_RAISE\r\n   *\r\n   * Burns all tokens if a PROJECT_RAISE fails to meet its target.\r\n   * Can be called by anyone after the deadline passes.\r\n   *\r\n   * Note: This is a cleanup function that can be called by anyone\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @param options - Transaction options\r\n   */\r\n  async burnFailedRaiseTokens(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.burnFailedRaiseTokens(\r\n      tokenAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.BURN_FAILED_RAISE_TOKENS)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Update fallback BNB price (admin only, BNBad native token)\r\n   *\r\n   * Updates the fallback price used when the oracle fails.\r\n   * Only callable by contract owner.\r\n   *\r\n   * @param price - New fallback price (in 8 decimals format, e.g., \"120000000000\" for $1200)\r\n   * @param options - Transaction options\r\n   */\r\n  async updateFallbackPrice(price: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n\r\n    const tx = await this.contract.updateFallbackPrice(\r\n      price,\r\n      this.buildTxOptions(options, GAS_LIMITS.UPDATE_FALLBACK_PRICE)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Update LP fee harvester address (admin only)\r\n   *\r\n   * Updates the LP fee harvester contract address.\r\n   * Only callable by contract owner.\r\n   *\r\n   * @param lpFeeHarvesterAddress - New LP fee harvester contract address\r\n   * @param options - Transaction options\r\n   */\r\n  async updateLPFeeHarvester(\r\n    lpFeeHarvesterAddress: string,\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(lpFeeHarvesterAddress);\r\n\r\n    const tx = await this.contract.updateLPFeeHarvester(\r\n      lpFeeHarvesterAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.UPDATE_LP_FEE_HARVESTER)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Emergency withdraw tokens (admin only)\r\n   *\r\n   * Emergency function to withdraw tokens from failed PROJECT_RAISE.\r\n   * Only callable by contract owner after deadline if raise failed.\r\n   *\r\n   * @param tokenAddress - Address of the token to withdraw\r\n   * @param options - Transaction options\r\n   */\r\n  async emergencyWithdraw(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.emergencyWithdraw(\r\n      tokenAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.EMERGENCY_WITHDRAW)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Check if contributor can claim tokens\r\n   *\r\n   * Helper method to check if a contributor is eligible to claim their tokens\r\n   */\r\n  async canClaimContributorTokens(\r\n    tokenAddress: string,\r\n    contributorAddress: string\r\n  ): Promise<boolean> {\r\n    try {\r\n      const info = await this.getLaunchInfo(tokenAddress);\r\n      const contribution = await this.getContribution(tokenAddress, contributorAddress);\r\n\r\n      return (\r\n        info.launchType === 1 && // PROJECT_RAISE\r\n        info.raiseCompleted &&\r\n        info.totalRaised >= info.raiseTarget &&\r\n        contribution.amount > 0n &&\r\n        !contribution.claimed\r\n      );\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Check if contributor can claim refund\r\n   *\r\n   * Helper method to check if a contributor is eligible to claim a refund\r\n   */\r\n  async canClaimRefund(tokenAddress: string, contributorAddress: string): Promise<boolean> {\r\n    try {\r\n      const info = await this.getLaunchInfo(tokenAddress);\r\n      const contribution = await this.getContribution(tokenAddress, contributorAddress);\r\n      const currentTime = Math.floor(Date.now() / 1000);\r\n\r\n      return (\r\n        info.launchType === 1 && // PROJECT_RAISE\r\n        currentTime > Number(info.raiseDeadline) &&\r\n        info.totalRaised < info.raiseTarget &&\r\n        !info.raiseCompleted &&\r\n        contribution.amount > 0n &&\r\n        !contribution.claimed\r\n      );\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Get contributor's token allocation\r\n   *\r\n   * Calculate how many tokens a contributor would receive after successful raise\r\n   */\r\n  async getContributorTokenAllocation(\r\n    tokenAddress: string,\r\n    contributorAddress: string\r\n  ): Promise<bigint> {\r\n    const info = await this.getLaunchInfo(tokenAddress);\r\n    const contribution = await this.getContribution(tokenAddress, contributorAddress);\r\n\r\n    if (contribution.amount === 0n || info.totalRaised === 0n) {\r\n      return 0n;\r\n    }\r\n\r\n    // Get total supply from token contract or use 1 billion default\r\n    const totalSupply = 1_000_000_000n * 10n ** 18n;\r\n    const contributorPool = (totalSupply * 70n) / 100n; // 70% for contributors\r\n\r\n    return (contribution.amount * contributorPool) / info.totalRaised;\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Listen to ContributorTokensClaimed events\r\n   */\r\n  onContributorTokensClaimed(\r\n    callback: (event: any) => void,\r\n    filter?: EventFilterOptions\r\n  ): () => void {\r\n    return this.addEventListener('ContributorTokensClaimed', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Listen to RefundClaimed events\r\n   */\r\n  onRefundClaimed(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('RefundClaimed', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Listen to RaiseFailed events\r\n   */\r\n  onRaiseFailed(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('RaiseFailed', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Listen to PlatformFeePaid events\r\n   */\r\n  onPlatformFeePaid(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('PlatformFeePaid', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Listen to PostGraduationBuy events\r\n   */\r\n  onPostGraduationBuy(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('PostGraduationBuy', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Listen to VestedTokensBurnedByCommunityControl events\r\n   */\r\n  onVestedTokensBurned(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('VestedTokensBurnedByCommunityControl', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Listen to CommunityControlTriggered events\r\n   */\r\n  onCommunityControlTriggered(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('CommunityControlTriggered', callback, filter);\r\n  }\r\n\r\n  // ==================== VESTING & COMMUNITY CONTROL METHODS ====================\r\n\r\n  /**\r\n   * ✅ NEW: Claim vested tokens (10% allocation vested over 6 BNBths)\r\n   *\r\n   * Vesting is conditional on token maintaining starting market cap.\r\n   * Tokens ONLY release if current market cap is above starting market cap.\r\n   * If community control triggered, claims are blocked.\r\n   *\r\n   * Note: Only for PROJECT_RAISE tokens after graduation\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @param options - Transaction options\r\n   */\r\n  async claimVestedTokens(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.claimVestedTokens(\r\n      tokenAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.CLAIM_FOUNDER_TOKENS)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Update market cap tracking (called BNBthly)\r\n   *\r\n   * Tracks consecutive BNBths below starting market cap.\r\n   * Triggers community control after 3 consecutive BNBths below start.\r\n   *\r\n   * Note: Only for PROJECT_RAISE tokens after graduation\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @param options - Transaction options\r\n   */\r\n  async updateMarketCap(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.updateMarketCap(\r\n      tokenAddress,\r\n      this.buildTxOptions(options)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Transfer raised funds to timelock when community control is triggered\r\n   *\r\n   * Only callable when 3 consecutive BNBths below starting market cap.\r\n   * Funds locked for 48 hours for platform team to review community input.\r\n   * Requires owner role.\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @param options - Transaction options\r\n   */\r\n  async transferFundsToTimelock(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.transferFundsToTimelock(\r\n      tokenAddress,\r\n      this.buildTxOptions(options)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Burn remaining vested tokens when community control is triggered\r\n   *\r\n   * Only owner (platform) can call - per governance model.\r\n   * Called after community consultation and decision.\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @param options - Transaction options\r\n   */\r\n  async burnVestedTokensOnCommunityControl(\r\n    tokenAddress: string,\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.burnVestedTokensOnCommunityControl(\r\n      tokenAddress,\r\n      this.buildTxOptions(options)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Update timelock beneficiary based on community decision\r\n   *\r\n   * Only owner can call (platform team).\r\n   * Updates beneficiary address based on community input.\r\n   *\r\n   * @param tokenAddress - Token address\r\n   * @param newBeneficiary - New beneficiary address based on community input\r\n   * @param options - Transaction options\r\n   */\r\n  async updateTimelockBeneficiary(\r\n    tokenAddress: string,\r\n    newBeneficiary: string,\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n    this.validateAddress(newBeneficiary);\r\n\r\n    const tx = await this.contract.updateTimelockBeneficiary(\r\n      tokenAddress,\r\n      newBeneficiary,\r\n      this.buildTxOptions(options)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Get information about community control status\r\n   *\r\n   * Useful for frontend to display community governance state.\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @returns Community control information\r\n   */\r\n  async getCommunityControlInfo(tokenAddress: string): Promise<{\r\n    communityControlActive: boolean;\r\n    consecutiveBNBthsBelowStart: bigint;\r\n    currentMarketCap: bigint;\r\n    startMarketCap: bigint;\r\n    remainingFunds: bigint;\r\n    remainingVestedTokens: bigint;\r\n  }> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const info = await this.contract.getCommunityControlInfo(tokenAddress);\r\n\r\n    return {\r\n      communityControlActive: info[0],\r\n      consecutiveBNBthsBelowStart: info[1],\r\n      currentMarketCap: info[2],\r\n      startMarketCap: info[3],\r\n      remainingFunds: info[4],\r\n      remainingVestedTokens: info[5],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Get claimable vested tokens amount\r\n   *\r\n   * Returns 0 if community control is active.\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @returns Amount of vested tokens that can be claimed\r\n   */\r\n  async getClaimableVestedTokens(tokenAddress: string): Promise<bigint> {\r\n    this.validateAddress(tokenAddress);\r\n    return await this.contract.getClaimableVestedTokens(tokenAddress);\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Get BNBthly market cap history\r\n   *\r\n   * Useful for frontend to display market cap trends.\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @returns Array of BNBthly market cap values\r\n   */\r\n  async getMarketCapHistory(tokenAddress: string): Promise<bigint[]> {\r\n    this.validateAddress(tokenAddress);\r\n    const history = await this.contract.getMarketCapHistory(tokenAddress);\r\n    return history.map((cap: any) => BigInt(cap.toString()));\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Update InfoFi address (admin only)\r\n   *\r\n   * Updates the global InfoFi fee address.\r\n   * Only callable by contract owner.\r\n   *\r\n   * @param infoFiAddress - New InfoFi address\r\n   * @param options - Transaction options\r\n   */\r\n  async updateInfoFiAddress(infoFiAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(infoFiAddress);\r\n\r\n    const tx = await this.contract.updateInfoFiAddress(\r\n      infoFiAddress,\r\n      this.buildTxOptions(options)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  // ==================== TEAM INFO METHODS ====================\r\n\r\n  /**\r\n   * ✅ NEW: Get founder information for a launch\r\n   *\r\n   * Returns the founder's name, wallet address, and bio.\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @returns Founder information\r\n   */\r\n  async getFounderInfo(tokenAddress: string): Promise<FounderInfo> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const info = await this.contract.getFounderInfo(tokenAddress);\r\n\r\n    return {\r\n      name: info[0],\r\n      walletAddress: info[1],\r\n      bio: info[2],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Get team members for a launch\r\n   *\r\n   * Returns up to 2 team members with their details.\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @returns Team members and count\r\n   */\r\n  async getTeamMembers(tokenAddress: string): Promise<{\r\n    teamMember1: TeamMember;\r\n    teamMember2: TeamMember;\r\n    teamMemberCount: number;\r\n  }> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const info = await this.contract.getTeamMembers(tokenAddress);\r\n\r\n    return {\r\n      teamMember1: {\r\n        name: info[0].name,\r\n        role: info[0].role,\r\n        twitter: info[0].twitter,\r\n        linkedin: info[0].linkedin,\r\n      },\r\n      teamMember2: {\r\n        name: info[1].name,\r\n        role: info[1].role,\r\n        twitter: info[1].twitter,\r\n        linkedin: info[1].linkedin,\r\n      },\r\n      teamMemberCount: Number(info[2]),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Get complete team info for a launch\r\n   *\r\n   * Returns founder info and all team members.\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @returns Complete team information\r\n   */\r\n  async getLaunchTeamInfo(tokenAddress: string): Promise<LaunchTeamInfo> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const info = await this.contract.getLaunchTeamInfo(tokenAddress);\r\n\r\n    return {\r\n      founder: {\r\n        name: info.founder.name,\r\n        walletAddress: info.founder.walletAddress,\r\n        bio: info.founder.bio,\r\n      },\r\n      teamMember1: {\r\n        name: info.teamMember1.name,\r\n        role: info.teamMember1.role,\r\n        twitter: info.teamMember1.twitter,\r\n        linkedin: info.teamMember1.linkedin,\r\n      },\r\n      teamMember2: {\r\n        name: info.teamMember2.name,\r\n        role: info.teamMember2.role,\r\n        twitter: info.teamMember2.twitter,\r\n        linkedin: info.teamMember2.linkedin,\r\n      },\r\n      teamMemberCount: Number(info.teamMemberCount),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Update founder info (only founder can update, only before graduation)\r\n   *\r\n   * Allows the founder to update their name and bio before the token graduates.\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @param name - New founder name\r\n   * @param bio - New founder bio\r\n   * @param options - Transaction options\r\n   */\r\n  async updateFounderInfo(\r\n    tokenAddress: string,\r\n    name: string,\r\n    bio: string,\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.updateFounderInfo(\r\n      tokenAddress,\r\n      name,\r\n      bio,\r\n      this.buildTxOptions(options)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ✅ NEW: Update team members (only founder can update, only before graduation)\r\n   *\r\n   * Allows the founder to update team member information before the token graduates.\r\n   *\r\n   * @param tokenAddress - Address of the launched token\r\n   * @param teamMember1 - First team member info\r\n   * @param teamMember2 - Second team member info\r\n   * @param teamMemberCount - Number of team members (0, 1, or 2)\r\n   * @param options - Transaction options\r\n   */\r\n  async updateTeamMembers(\r\n    tokenAddress: string,\r\n    teamMember1: TeamMember,\r\n    teamMember2: TeamMember,\r\n    teamMemberCount: number,\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    if (teamMemberCount > 2) {\r\n      throw new Error('Maximum 2 team members allowed');\r\n    }\r\n\r\n    // Prepare team member structs for contract\r\n    const member1 = [\r\n      teamMember1.name,\r\n      teamMember1.role,\r\n      teamMember1.twitter,\r\n      teamMember1.linkedin,\r\n    ];\r\n    const member2 = [\r\n      teamMember2.name,\r\n      teamMember2.role,\r\n      teamMember2.twitter,\r\n      teamMember2.linkedin,\r\n    ];\r\n\r\n    const tx = await this.contract.updateTeamMembers(\r\n      tokenAddress,\r\n      member1,\r\n      member2,\r\n      teamMemberCount,\r\n      this.buildTxOptions(options)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Validate launch parameters\r\n   * ✅ UPDATED: Validates BNB amounts (BNBad native token)\r\n   * Note: Contract enforces actual validation, this is for client-side UX\r\n   */\r\n  private validateLaunchParams(params: CreateLaunchParams): void {\r\n    const minRaiseBNB = parseFloat(CONSTANTS.MIN_RAISE_BNB); // 5M BNB\r\n    const maxRaiseBNB = parseFloat(CONSTANTS.MAX_RAISE_BNB); // 20M BNB\r\n    const minVesting = CONSTANTS.MIN_VESTING_DURATION / (24 * 60 * 60); // 90 days\r\n    const maxVesting = CONSTANTS.MAX_VESTING_DURATION / (24 * 60 * 60); // 180 days\r\n\r\n    const raiseTarget = parseFloat(params.raiseTargetBNB);\r\n    const raiseMax = parseFloat(params.raiseMaxBNB);\r\n\r\n    if (raiseTarget < minRaiseBNB || raiseTarget > maxRaiseBNB) {\r\n      throw new Error(`Raise target must be between ${minRaiseBNB.toLocaleString()} and ${maxRaiseBNB.toLocaleString()} BNB`);\r\n    }\r\n\r\n    if (raiseMax < raiseTarget || raiseMax > maxRaiseBNB) {\r\n      throw new Error(`Raise max must be between raise target and ${maxRaiseBNB.toLocaleString()} BNB`);\r\n    }\r\n\r\n    if (params.vestingDuration < minVesting || params.vestingDuration > maxVesting) {\r\n      throw new Error(`Vesting duration must be between ${minVesting} and ${maxVesting} days (Note: Contract overrides to 180 days)`);\r\n    }\r\n  }\r\n}\r\n\r\n","// src/contracts/BondingCurveDEX.ts\r\nimport { ethers } from 'ethers';\r\nimport { BaseContract } from './BaseContract';\r\nimport {\r\n  PoolInfo,\r\n  FeeInfo,\r\n  Quote,\r\n  CreatorFeeInfo,\r\n  PostGraduationStats,\r\n  TxResult,\r\n  TxOptions,\r\n  EventFilterOptions,\r\n} from '../types';\r\nimport { GAS_LIMITS } from '../constants';\r\nimport { BondingCurveDEXABI } from '../abis';\r\n\r\n/**\r\n * Volume data structure\r\n * ✅ UPDATED: Changed to BNB (BNBad migration)\r\n */\r\nexport interface VolumeData {\r\n  totalBuyVolumeBNB: bigint;\r\n  totalSellVolumeBNB: bigint;\r\n  totalVolumeBNB: bigint;\r\n  totalBuyVolumeTokens: bigint;\r\n  totalSellVolumeTokens: bigint;\r\n  buyCount: number;\r\n  sellCount: number;\r\n  uniqueBuyers: number;\r\n  uniqueSellers: number;\r\n  uniqueTraders: number;\r\n}\r\n\r\n/**\r\n * Trade data structure\r\n * ✅ UPDATED: Changed to BNB (BNBad migration)\r\n */\r\nexport interface TradeData {\r\n  type: 'buy' | 'sell';\r\n  trader: string;\r\n  tokenAddress: string;\r\n  BNBAmount: bigint;\r\n  tokenAmount: bigint;\r\n  price: bigint;\r\n  feeRate: bigint;\r\n  blockNumber: number;\r\n  timestamp: number;\r\n  txHash: string;\r\n}\r\n\r\n/**\r\n * BondingCurveDEX contract wrapper\r\n */\r\nexport class BondingCurveDEX extends BaseContract {\r\n  constructor(\r\n    address: string,\r\n    provider: ethers.Provider,\r\n    signer?: ethers.Signer,\r\n    eventQueryProvider?: ethers.Provider,\r\n    graph?: any // SafuPadGraph type imported in BaseContract\r\n  ) {\r\n    super(address, BondingCurveDEXABI, provider, signer, eventQueryProvider, graph);\r\n  }\r\n\r\n  /**\r\n   * Safely parse ether amount and handle edge cases\r\n   */\r\n  private safeParseEther(amount: string): bigint {\r\n    // Convert scientific notation to decimal string\r\n    const numValue = Number(amount);\r\n\r\n    // Check if value is too small (less than 1 wei)\r\n    if (numValue < 1e-18) {\r\n      throw new Error(`Amount too small: ${amount} (minimum is 1 wei = 1e-18 ETH)`);\r\n    }\r\n\r\n    // Convert to fixed decimal string to avoid scientific notation\r\n    const decimalString = numValue.toFixed(18);\r\n\r\n    return ethers.parseEther(decimalString);\r\n  }\r\n\r\n  /**\r\n   * Safely format ether amount and handle very small values\r\n   * Prevents scientific notation in output\r\n   */\r\n  private safeFormatEther(amount: bigint): string {\r\n    const formatted = ethers.formatEther(amount);\r\n    const numValue = Number(formatted);\r\n\r\n    // If the number is very small and would be in scientific notation\r\n    if (numValue > 0 && numValue < 0.000001) {\r\n      // Convert to fixed decimal string without scientific notation\r\n      return numValue.toFixed(18).replace(/\\.?0+$/, '');\r\n    }\r\n\r\n    return formatted;\r\n  }\r\n\r\n  /**\r\n   * Buy tokens from bonding curve\r\n   */\r\n  async buyTokens(\r\n    tokenAddress: string,\r\n    BNBAmount: string,\r\n    slippageTolerance: number = 1, // 1% default\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const amount = this.safeParseEther(BNBAmount);\r\n\r\n    // Get quote\r\n    const quote = await this.getBuyQuote(tokenAddress, BNBAmount);\r\n\r\n    // Calculate min tokens with slippage\r\n    const minTokensOut = (quote.tokensOut * BigInt(100 - slippageTolerance)) / 100n;\r\n\r\n    // Build transaction\r\n    const txOptions = this.buildTxOptions(options, GAS_LIMITS.BUY_TOKENS);\r\n    txOptions.value = amount;\r\n\r\n    const tx = await this.contract.buyTokens(tokenAddress, minTokensOut, txOptions);\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Sell tokens to bonding curve\r\n   */\r\n  async sellTokens(\r\n    tokenAddress: string,\r\n    tokenAmount: string,\r\n    slippageTolerance: number = 1, // 1% default\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const amount = ethers.parseEther(tokenAmount);\r\n\r\n    // Get quote\r\n    const quote = await this.getSellQuote(tokenAddress, tokenAmount);\r\n\r\n    // Calculate min BNB with slippage\r\n    const minBNBOut = (quote.tokensOut * BigInt(100 - slippageTolerance)) / 100n;\r\n\r\n    const tx = await this.contract.sellTokens(\r\n      tokenAddress,\r\n      amount,\r\n      minBNBOut,\r\n      this.buildTxOptions(options, GAS_LIMITS.SELL_TOKENS)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get buy quote (how many tokens for X BNB)\r\n   */\r\n  async getBuyQuote(tokenAddress: string, BNBAmount: string): Promise<Quote> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const amount = this.safeParseEther(BNBAmount);\r\n    const quote = await this.contract.getBuyQuote(tokenAddress, amount);\r\n\r\n    return {\r\n      tokensOut: quote[0], // tokensOut\r\n      pricePerToken: quote[1], // pricePerToken\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get sell quote (how much BNB for X tokens)\r\n   */\r\n  async getSellQuote(tokenAddress: string, tokenAmount: string): Promise<Quote> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const amount = ethers.parseEther(tokenAmount);\r\n    const quote = await this.contract.getSellQuote(tokenAddress, amount);\r\n\r\n    return {\r\n      tokensOut: quote[0], // BNBOut\r\n      pricePerToken: quote[1], // pricePerToken\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get pool information\r\n   */\r\n  async getPoolInfo(tokenAddress: string): Promise<PoolInfo> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const info = await this.contract.getPoolInfo(tokenAddress);\r\n\r\n    return {\r\n      marketCapBNB: info[0],\r\n      marketCapUSD: info[1],\r\n      BNBReserve: info[2],\r\n      tokenReserve: info[3],\r\n      reservedTokens: info[4],\r\n      currentPrice: info[5],\r\n      priceMultiplier: info[6],\r\n      graduationProgress: info[7],\r\n      graduated: info[8],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get current fee rate for a token\r\n   */\r\n  async getCurrentFeeRate(tokenAddress: string): Promise<bigint> {\r\n    this.validateAddress(tokenAddress);\r\n    return await this.contract.getCurrentFeeRate(tokenAddress);\r\n  }\r\n\r\n  /**\r\n   * Get detailed fee information\r\n   */\r\n  async getFeeInfo(tokenAddress: string): Promise<FeeInfo> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const info = await this.contract.getFeeInfo(tokenAddress);\r\n\r\n    return {\r\n      currentFeeRate: info[0],\r\n      finalFeeRate: info[1],\r\n      blocksSinceLaunch: info[2],\r\n      blocksUntilNextTier: info[3],\r\n      feeStage: info[4],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get creator fee information\r\n   */\r\n  async getCreatorFeeInfo(tokenAddress: string): Promise<CreatorFeeInfo> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const info = await this.contract.getCreatorFeeInfo(tokenAddress);\r\n\r\n    return {\r\n      accumulatedFees: info[0],\r\n      lastClaimTime: info[1],\r\n      graduationMarketCap: info[2],\r\n      currentMarketCap: info[3],\r\n      BNBInPool: info[4],\r\n      canClaim: info[5],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Claim creator fees\r\n   */\r\n  async claimCreatorFees(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.claimCreatorFees(tokenAddress, this.buildTxOptions(options));\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get post-graduation statistics\r\n   */\r\n  async getPostGraduationStats(tokenAddress: string): Promise<PostGraduationStats> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const stats = await this.contract.getPostGraduationStats(tokenAddress);\r\n\r\n    return {\r\n      totalTokensSold: stats[0],\r\n      totalLiquidityAdded: stats[1],\r\n      lpTokensGenerated: stats[2],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get all active tokens\r\n   */\r\n  async getActiveTokens(): Promise<string[]> {\r\n    return await this.contract.getActiveTokens();\r\n  }\r\n\r\n  /**\r\n   * Check if pool is graduated\r\n   */\r\n  async isGraduated(tokenAddress: string): Promise<boolean> {\r\n    const info = await this.getPoolInfo(tokenAddress);\r\n    return info.graduated;\r\n  }\r\n\r\n  /**\r\n   * Calculate price impact for buy\r\n   */\r\n  async calculateBuyPriceImpact(tokenAddress: string, BNBAmount: string): Promise<number> {\r\n    const poolInfo = await this.getPoolInfo(tokenAddress);\r\n    const quote = await this.getBuyQuote(tokenAddress, BNBAmount);\r\n\r\n    if (poolInfo.currentPrice === 0n || quote.tokensOut === 0n) {\r\n      return 0;\r\n    }\r\n\r\n    const avgPrice = (this.safeParseEther(BNBAmount) * 10n ** 18n) / quote.tokensOut;\r\n    const priceImpact =\r\n      Number(((avgPrice - poolInfo.currentPrice) * 10000n) / poolInfo.currentPrice) / 100;\r\n\r\n    return priceImpact;\r\n  }\r\n\r\n  /**\r\n   * Calculate price impact for sell\r\n   */\r\n  async calculateSellPriceImpact(tokenAddress: string, tokenAmount: string): Promise<number> {\r\n    const poolInfo = await this.getPoolInfo(tokenAddress);\r\n    const quote = await this.getSellQuote(tokenAddress, tokenAmount);\r\n\r\n    if (poolInfo.currentPrice === 0n || quote.tokensOut === 0n) {\r\n      return 0;\r\n    }\r\n\r\n    const avgPrice = (quote.tokensOut * 10n ** 18n) / ethers.parseEther(tokenAmount);\r\n    const priceImpact =\r\n      Number(((poolInfo.currentPrice - avgPrice) * 10000n) / poolInfo.currentPrice) / 100;\r\n\r\n    return priceImpact;\r\n  }\r\n\r\n  /**\r\n   * Estimate time until fee tier changes\r\n   */\r\n  async estimateTimeUntilFeeTierChange(tokenAddress: string): Promise<number> {\r\n    const feeInfo = await this.getFeeInfo(tokenAddress);\r\n\r\n    if (feeInfo.blocksUntilNextTier === 0n) {\r\n      return 0;\r\n    }\r\n\r\n    // Assume 1 second block time for BNBad\r\n    const secondsRemaining = Number(feeInfo.blocksUntilNextTier) * 1;\r\n    return secondsRemaining;\r\n  }\r\n\r\n  /**\r\n   * Get formatted fee percentage\r\n   */\r\n  async getCurrentFeePercentage(tokenAddress: string): Promise<string> {\r\n    const feeRate = await this.getCurrentFeeRate(tokenAddress);\r\n    return `${Number(feeRate) / 100}%`;\r\n  }\r\n\r\n  // ==================== VOLUME TRACKING METHODS ====================\r\n\r\n  /**\r\n   * Get total trading volume for a token (all time)\r\n   * Uses The Graph if available, falls back to events\r\n   */\r\n  async getTotalVolume(tokenAddress: string, fromBlock: number = 0): Promise<VolumeData> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    // ✅ Use The Graph if available (much faster!)\r\n    if (this.hasGraphSupport() && this.graph) {\r\n      const pool = await this.graph.getPool(tokenAddress.toLowerCase());\r\n      if (pool) {\r\n        return {\r\n          totalBuyVolumeBNB: BigInt(pool.totalVolume) / 2n, // Rough estimate\r\n          totalSellVolumeBNB: BigInt(pool.totalVolume) / 2n, // Rough estimate\r\n          totalVolumeBNB: BigInt(pool.totalVolume),\r\n          totalBuyVolumeTokens: 0n, // Not available in pool stats\r\n          totalSellVolumeTokens: 0n, // Not available in pool stats\r\n          buyCount: Number(pool.totalBuys),\r\n          sellCount: Number(pool.totalSells),\r\n          uniqueBuyers: 0, // Would need separate query\r\n          uniqueSellers: 0, // Would need separate query\r\n          uniqueTraders: 0, // Would need separate query\r\n        };\r\n      }\r\n    }\r\n\r\n    // ⚠️ Fallback to events\r\n    const latestBlock = await this.provider.getBlockNumber();\r\n    return this.getVolumeForPeriod(tokenAddress, fromBlock, latestBlock);\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Get trading volume for a specific time period\r\n   * Uses The Graph if available, falls back to events\r\n   */\r\n  async getVolumeForPeriod(\r\n    tokenAddress: string,\r\n    fromBlock: number,\r\n    toBlock: number,\r\n    minTimestamp?: number\r\n  ): Promise<VolumeData> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    // ✅ Use The Graph if available (much faster!)\r\n    if (this.hasGraphSupport() && this.graph && minTimestamp) {\r\n      const trades = await this.graph.getTrades(\r\n        { token: tokenAddress.toLowerCase() },\r\n        { first: 1000, orderBy: 'timestamp', orderDirection: 'desc' }\r\n      );\r\n\r\n      // Filter by timestamp\r\n      const filteredTrades = trades.filter((t: any) => Number(t.timestamp) >= minTimestamp);\r\n\r\n      const buyTrades = filteredTrades.filter((t: any) => t.isBuy);\r\n      const sellTrades = filteredTrades.filter((t: any) => !t.isBuy);\r\n\r\n      const buyVolumeBNB = buyTrades.reduce((sum: bigint, t: any) => sum + BigInt(t.BNBAmount), 0n);\r\n      const sellVolumeBNB = sellTrades.reduce((sum: bigint, t: any) => sum + BigInt(t.BNBAmount), 0n);\r\n      const buyVolumeTokens = buyTrades.reduce((sum: bigint, t: any) => sum + BigInt(t.tokenAmount), 0n);\r\n      const sellVolumeTokens = sellTrades.reduce((sum: bigint, t: any) => sum + BigInt(t.tokenAmount), 0n);\r\n\r\n      const buyers = new Set(buyTrades.map((t: any) => t.trader.toLowerCase()));\r\n      const sellers = new Set(sellTrades.map((t: any) => t.trader.toLowerCase()));\r\n      const allTraders = new Set([...buyers, ...sellers]);\r\n\r\n      return {\r\n        totalBuyVolumeBNB: buyVolumeBNB,\r\n        totalSellVolumeBNB: sellVolumeBNB,\r\n        totalVolumeBNB: buyVolumeBNB + sellVolumeBNB,\r\n        totalBuyVolumeTokens: buyVolumeTokens,\r\n        totalSellVolumeTokens: sellVolumeTokens,\r\n        buyCount: buyTrades.length,\r\n        sellCount: sellTrades.length,\r\n        uniqueBuyers: buyers.size,\r\n        uniqueSellers: sellers.size,\r\n        uniqueTraders: allTraders.size,\r\n      };\r\n    }\r\n\r\n    // ⚠️ Fallback to events\r\n    const [buyEvents, sellEvents] = await Promise.all([\r\n      this.getTokensBoughtEvents(tokenAddress, fromBlock, toBlock),\r\n      this.getTokensSoldEvents(tokenAddress, fromBlock, toBlock),\r\n    ]);\r\n\r\n    // Filter by timestamp if provided\r\n    let filteredBuyEvents = buyEvents;\r\n    let filteredSellEvents = sellEvents;\r\n\r\n    if (minTimestamp) {\r\n      filteredBuyEvents = buyEvents.filter((e) => e.timestamp >= minTimestamp);\r\n      filteredSellEvents = sellEvents.filter((e) => e.timestamp >= minTimestamp);\r\n    }\r\n\r\n    // Calculate volumes\r\n    const buyVolumeBNB = filteredBuyEvents.reduce((sum, e) => sum + e.BNBAmount, 0n);\r\n    const sellVolumeBNB = filteredSellEvents.reduce((sum, e) => sum + e.BNBAmount, 0n);\r\n    const buyVolumeTokens = filteredBuyEvents.reduce((sum, e) => sum + e.tokenAmount, 0n);\r\n    const sellVolumeTokens = filteredSellEvents.reduce((sum, e) => sum + e.tokenAmount, 0n);\r\n\r\n    // Calculate unique traders\r\n    const buyers = new Set(filteredBuyEvents.map((e) => e.trader.toLowerCase()));\r\n    const sellers = new Set(filteredSellEvents.map((e) => e.trader.toLowerCase()));\r\n    const allTraders = new Set([...buyers, ...sellers]);\r\n\r\n    return {\r\n      totalBuyVolumeBNB: buyVolumeBNB,\r\n      totalSellVolumeBNB: sellVolumeBNB,\r\n      totalVolumeBNB: buyVolumeBNB + sellVolumeBNB,\r\n      totalBuyVolumeTokens: buyVolumeTokens,\r\n      totalSellVolumeTokens: sellVolumeTokens,\r\n      buyCount: filteredBuyEvents.length,\r\n      sellCount: filteredSellEvents.length,\r\n      uniqueBuyers: buyers.size,\r\n      uniqueSellers: sellers.size,\r\n      uniqueTraders: allTraders.size,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get trading volume grouped by time intervals (hourly, daily, etc.)\r\n   * Uses The Graph if available, falls back to events\r\n   */\r\n  async getVolumeHistory(\r\n    tokenAddress: string,\r\n    intervalSeconds: number = 3600, // 1 hour default\r\n    periods: number = 24,\r\n    fromBlock?: number\r\n  ): Promise<Array<VolumeData & { timestamp: number; intervalStart: number }>> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const currentTime = Math.floor(Date.now() / 1000);\r\n\r\n    // ✅ Use The Graph if available (much faster!)\r\n    if (this.hasGraphSupport() && this.graph) {\r\n      // Calculate time range\r\n      const startTime = currentTime - (periods * intervalSeconds);\r\n\r\n      // Fetch all trades in the time range\r\n      const allTrades = await this.graph.getTrades(\r\n        { token: tokenAddress.toLowerCase() },\r\n        { first: 1000, orderBy: 'timestamp', orderDirection: 'desc' }\r\n      );\r\n\r\n      // Filter trades within our time range\r\n      const relevantTrades = allTrades.filter((t: any) => {\r\n        const tradeTime = Number(t.timestamp);\r\n        return tradeTime >= startTime && tradeTime <= currentTime;\r\n      });\r\n\r\n      // Group trades by interval\r\n      const intervals: Map<number, { buys: any[]; sells: any[] }> = new Map();\r\n\r\n      for (const trade of relevantTrades) {\r\n        const tradeTime = Number(trade.timestamp);\r\n        const intervalStart = Math.floor(tradeTime / intervalSeconds) * intervalSeconds;\r\n\r\n        if (!intervals.has(intervalStart)) {\r\n          intervals.set(intervalStart, { buys: [], sells: [] });\r\n        }\r\n\r\n        if (trade.isBuy) {\r\n          intervals.get(intervalStart)!.buys.push(trade);\r\n        } else {\r\n          intervals.get(intervalStart)!.sells.push(trade);\r\n        }\r\n      }\r\n\r\n      // Generate results for all periods\r\n      const results: Array<VolumeData & { timestamp: number; intervalStart: number }> = [];\r\n\r\n      for (let i = 0; i < periods; i++) {\r\n        const intervalStart = currentTime - (periods - i) * intervalSeconds;\r\n        const data = intervals.get(intervalStart) || { buys: [], sells: [] };\r\n\r\n        const buyVolumeBNB = data.buys.reduce((sum: bigint, t: any) => sum + BigInt(t.BNBAmount), 0n);\r\n        const sellVolumeBNB = data.sells.reduce((sum: bigint, t: any) => sum + BigInt(t.BNBAmount), 0n);\r\n        const buyVolumeTokens = data.buys.reduce((sum: bigint, t: any) => sum + BigInt(t.tokenAmount), 0n);\r\n        const sellVolumeTokens = data.sells.reduce((sum: bigint, t: any) => sum + BigInt(t.tokenAmount), 0n);\r\n\r\n        const buyers = new Set(data.buys.map((t: any) => t.trader.toLowerCase()));\r\n        const sellers = new Set(data.sells.map((t: any) => t.trader.toLowerCase()));\r\n        const allTraders = new Set([...buyers, ...sellers]);\r\n\r\n        results.push({\r\n          timestamp: intervalStart + intervalSeconds,\r\n          intervalStart,\r\n          totalBuyVolumeBNB: buyVolumeBNB,\r\n          totalSellVolumeBNB: sellVolumeBNB,\r\n          totalVolumeBNB: buyVolumeBNB + sellVolumeBNB,\r\n          totalBuyVolumeTokens: buyVolumeTokens,\r\n          totalSellVolumeTokens: sellVolumeTokens,\r\n          buyCount: data.buys.length,\r\n          sellCount: data.sells.length,\r\n          uniqueBuyers: buyers.size,\r\n          uniqueSellers: sellers.size,\r\n          uniqueTraders: allTraders.size,\r\n        });\r\n      }\r\n\r\n      return results;\r\n    }\r\n\r\n    // ⚠️ Fallback to events (slower, use only when Graph not available)\r\n    const latestBlock = await this.provider.getBlockNumber();\r\n\r\n    // Calculate blocks to fetch (estimate)\r\n    const totalSeconds = intervalSeconds * periods;\r\n    const estimatedBlocks = Math.floor(totalSeconds / 3);\r\n    const startBlock = fromBlock || Math.max(0, latestBlock - estimatedBlocks);\r\n\r\n    const [buyEvents, sellEvents] = await Promise.all([\r\n      this.getTokensBoughtEvents(tokenAddress, startBlock, latestBlock),\r\n      this.getTokensSoldEvents(tokenAddress, startBlock, latestBlock),\r\n    ]);\r\n\r\n    // Group events by interval\r\n    const intervals: Map<number, { buys: TradeData[]; sells: TradeData[] }> = new Map();\r\n\r\n    for (const event of buyEvents) {\r\n      const intervalStart = Math.floor(event.timestamp / intervalSeconds) * intervalSeconds;\r\n      if (!intervals.has(intervalStart)) {\r\n        intervals.set(intervalStart, { buys: [], sells: [] });\r\n      }\r\n      intervals.get(intervalStart)!.buys.push(event);\r\n    }\r\n\r\n    for (const event of sellEvents) {\r\n      const intervalStart = Math.floor(event.timestamp / intervalSeconds) * intervalSeconds;\r\n      if (!intervals.has(intervalStart)) {\r\n        intervals.set(intervalStart, { buys: [], sells: [] });\r\n      }\r\n      intervals.get(intervalStart)!.sells.push(event);\r\n    }\r\n\r\n    // Convert to array and calculate volumes for each interval\r\n    const results: Array<VolumeData & { timestamp: number; intervalStart: number }> = [];\r\n\r\n    for (let i = 0; i < periods; i++) {\r\n      const intervalStart = currentTime - (periods - i) * intervalSeconds;\r\n      const data = intervals.get(intervalStart) || { buys: [], sells: [] };\r\n\r\n      const buyVolumeBNB = data.buys.reduce((sum, e) => sum + e.BNBAmount, 0n);\r\n      const sellVolumeBNB = data.sells.reduce((sum, e) => sum + e.BNBAmount, 0n);\r\n      const buyVolumeTokens = data.buys.reduce((sum, e) => sum + e.tokenAmount, 0n);\r\n      const sellVolumeTokens = data.sells.reduce((sum, e) => sum + e.tokenAmount, 0n);\r\n\r\n      const buyers = new Set(data.buys.map((e) => e.trader.toLowerCase()));\r\n      const sellers = new Set(data.sells.map((e) => e.trader.toLowerCase()));\r\n      const allTraders = new Set([...buyers, ...sellers]);\r\n\r\n      results.push({\r\n        timestamp: intervalStart + intervalSeconds,\r\n        intervalStart,\r\n        totalBuyVolumeBNB: buyVolumeBNB,\r\n        totalSellVolumeBNB: sellVolumeBNB,\r\n        totalVolumeBNB: buyVolumeBNB + sellVolumeBNB,\r\n        totalBuyVolumeTokens: buyVolumeTokens,\r\n        totalSellVolumeTokens: sellVolumeTokens,\r\n        buyCount: data.buys.length,\r\n        sellCount: data.sells.length,\r\n        uniqueBuyers: buyers.size,\r\n        uniqueSellers: sellers.size,\r\n        uniqueTraders: allTraders.size,\r\n      });\r\n    }\r\n\r\n    return results;\r\n  }\r\n\r\n  /**\r\n   * Get recent trades for a token\r\n   * Uses The Graph if available, falls back to events\r\n   */\r\n  async getRecentTrades(\r\n    tokenAddress: string,\r\n    limit: number = 50,\r\n    fromBlock?: number\r\n  ): Promise<TradeData[]> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    // ✅ Use The Graph if available (much faster!)\r\n    if (this.hasGraphSupport() && this.graph) {\r\n      const trades = await this.graph.getTrades(\r\n        { token: tokenAddress.toLowerCase() },\r\n        { first: limit, orderBy: 'timestamp', orderDirection: 'desc' }\r\n      );\r\n\r\n      return trades.map((t: any) => ({\r\n        type: t.isBuy ? 'buy' : 'sell',\r\n        trader: t.trader,\r\n        tokenAddress: t.token.id,\r\n        BNBAmount: BigInt(t.BNBAmount),\r\n        tokenAmount: BigInt(t.tokenAmount),\r\n        price: BigInt(t.price),\r\n        feeRate: BigInt(t.feeRate),\r\n        blockNumber: Number(t.blockNumber),\r\n        timestamp: Number(t.timestamp),\r\n        txHash: t.transactionHash,\r\n      }));\r\n    }\r\n\r\n    // ⚠️ Fallback to events (slower, use only when Graph not available)\r\n    const latestBlock = await this.provider.getBlockNumber();\r\n    const startBlock = fromBlock || Math.max(0, latestBlock - 10000); // Last ~8 hours\r\n\r\n    const [buyEvents, sellEvents] = await Promise.all([\r\n      this.getTokensBoughtEvents(tokenAddress, startBlock, latestBlock),\r\n      this.getTokensSoldEvents(tokenAddress, startBlock, latestBlock),\r\n    ]);\r\n\r\n    // Combine and sort by timestamp (descending)\r\n    const allTrades = [...buyEvents, ...sellEvents].sort((a, b) => b.timestamp - a.timestamp);\r\n\r\n    return allTrades.slice(0, limit);\r\n  }\r\n\r\n  /**\r\n   * Get TokensBought events with detailed trade data\r\n   * ✅ FIXED: Use event.args instead of event.topics\r\n   * Uses eventQueryProvider (Alchemy if configured) for better performance\r\n   */\r\n  private async getTokensBoughtEvents(\r\n    tokenAddress: string,\r\n    fromBlock: number,\r\n    toBlock: number\r\n  ): Promise<TradeData[]> {\r\n    // Create contract instance using eventQueryProvider for event queries\r\n    const eventContract = new ethers.Contract(\r\n      this.address,\r\n      this.contract.interface,\r\n      this.eventQueryProvider\r\n    );\r\n    const filter = eventContract.filters.TokensBought(null, tokenAddress);\r\n    const events = await eventContract.queryFilter(filter, fromBlock, toBlock);\r\n\r\n    const trades: TradeData[] = [];\r\n    const abiCoder = new ethers.AbiCoder();\r\n    for (const event of events) {\r\n      const block = await event.getBlock();\r\n      const args = event.topics;\r\n      const data = event.data;\r\n\r\n      const topics = abiCoder.decode(['uint256', 'uint256', 'uint256', 'uint256'], data);\r\n\r\n      trades.push({\r\n        type: 'buy',\r\n        trader: args[1], // buyer\r\n        tokenAddress: args[2], // token\r\n        BNBAmount: topics[0], // BNBReceived\r\n        tokenAmount: topics[1], // tokensAmount\r\n        price: topics[2], // currentPrice\r\n        feeRate: topics[3], // feeRate\r\n        blockNumber: event.blockNumber,\r\n        timestamp: block.timestamp,\r\n        txHash: event.transactionHash,\r\n      });\r\n    }\r\n\r\n    return trades;\r\n  }\r\n\r\n  /**\r\n   * Get TokensSold events with detailed trade data\r\n   * ✅ FIXED: Use event.args instead of event.topics\r\n   * Uses eventQueryProvider (Alchemy if configured) for better performance\r\n   */\r\n  private async getTokensSoldEvents(\r\n    tokenAddress: string,\r\n    fromBlock: number,\r\n    toBlock: number\r\n  ): Promise<TradeData[]> {\r\n    // Create contract instance using eventQueryProvider for event queries\r\n    const eventContract = new ethers.Contract(\r\n      this.address,\r\n      this.contract.interface,\r\n      this.eventQueryProvider\r\n    );\r\n    const filter = eventContract.filters.TokensSold(null, tokenAddress);\r\n    const events = await eventContract.queryFilter(filter, fromBlock, toBlock);\r\n\r\n    const trades: TradeData[] = [];\r\n    const abiCoder = new ethers.AbiCoder();\r\n    for (const event of events) {\r\n      const block = await event.getBlock();\r\n      const args = event.topics;\r\n\r\n      const data = event.data;\r\n\r\n      const topics = abiCoder.decode(['uint256', 'uint256', 'uint256', 'uint256'], data);\r\n\r\n      trades.push({\r\n        type: 'sell',\r\n        trader: args[0], // seller\r\n        tokenAddress: args[1], // token\r\n        BNBAmount: topics[0], // BNBReceived\r\n        tokenAmount: topics[1], // tokensAmount\r\n        price: topics[2], // currentPrice\r\n        feeRate: topics[3], // feeRate\r\n        blockNumber: event.blockNumber,\r\n        timestamp: block.timestamp,\r\n        txHash: event.transactionHash,\r\n      });\r\n    }\r\n\r\n    return trades;\r\n  }\r\n\r\n  /**\r\n   * Get top traders by volume\r\n   * Uses The Graph if available, falls back to events\r\n   */\r\n  async getTopTraders(\r\n    tokenAddress: string,\r\n    limit: number = 10,\r\n    fromBlock: number = 0\r\n  ): Promise<\r\n    Array<{\r\n      address: string;\r\n      buyVolumeBNB: bigint;\r\n      sellVolumeBNB: bigint;\r\n      totalVolumeBNB: bigint;\r\n      buyCount: number;\r\n      sellCount: number;\r\n      netTokens: bigint;\r\n    }>\r\n  > {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    // ✅ Use The Graph if available (much faster!)\r\n    if (this.hasGraphSupport() && this.graph) {\r\n      const allTrades = await this.graph.getTrades(\r\n        { token: tokenAddress.toLowerCase() },\r\n        { first: 1000, orderBy: 'timestamp', orderDirection: 'desc' }\r\n      );\r\n\r\n      // Aggregate by trader\r\n      const traderMap = new Map<\r\n        string,\r\n        {\r\n          buyVolumeBNB: bigint;\r\n          sellVolumeBNB: bigint;\r\n          buyCount: number;\r\n          sellCount: number;\r\n          netTokens: bigint;\r\n        }\r\n      >();\r\n\r\n      for (const trade of allTrades) {\r\n        const addr = trade.trader.toLowerCase();\r\n        const existing = traderMap.get(addr) || {\r\n          buyVolumeBNB: 0n,\r\n          sellVolumeBNB: 0n,\r\n          buyCount: 0,\r\n          sellCount: 0,\r\n          netTokens: 0n,\r\n        };\r\n\r\n        if (trade.isBuy) {\r\n          existing.buyVolumeBNB += BigInt(trade.BNBAmount);\r\n          existing.buyCount++;\r\n          existing.netTokens += BigInt(trade.tokenAmount);\r\n        } else {\r\n          existing.sellVolumeBNB += BigInt(trade.BNBAmount);\r\n          existing.sellCount++;\r\n          existing.netTokens -= BigInt(trade.tokenAmount);\r\n        }\r\n\r\n        traderMap.set(addr, existing);\r\n      }\r\n\r\n      // Convert to array and sort by total volume\r\n      const traders = Array.from(traderMap.entries())\r\n        .map(([address, data]) => ({\r\n          address,\r\n          buyVolumeBNB: data.buyVolumeBNB,\r\n          sellVolumeBNB: data.sellVolumeBNB,\r\n          totalVolumeBNB: data.buyVolumeBNB + data.sellVolumeBNB,\r\n          buyCount: data.buyCount,\r\n          sellCount: data.sellCount,\r\n          netTokens: data.netTokens,\r\n        }))\r\n        .sort((a, b) => (a.totalVolumeBNB > b.totalVolumeBNB ? -1 : 1));\r\n\r\n      return traders.slice(0, limit);\r\n    }\r\n\r\n    // ⚠️ Fallback to events (slower, use only when Graph not available)\r\n    const latestBlock = await this.provider.getBlockNumber();\r\n    const [buyEvents, sellEvents] = await Promise.all([\r\n      this.getTokensBoughtEvents(tokenAddress, fromBlock, latestBlock),\r\n      this.getTokensSoldEvents(tokenAddress, fromBlock, latestBlock),\r\n    ]);\r\n\r\n    // Aggregate by trader\r\n    const traderMap = new Map<\r\n      string,\r\n      {\r\n        buyVolumeBNB: bigint;\r\n        sellVolumeBNB: bigint;\r\n        buyCount: number;\r\n        sellCount: number;\r\n        netTokens: bigint;\r\n      }\r\n    >();\r\n\r\n    for (const trade of buyEvents) {\r\n      const addr = trade.trader.toLowerCase();\r\n      const existing = traderMap.get(addr) || {\r\n        buyVolumeBNB: 0n,\r\n        sellVolumeBNB: 0n,\r\n        buyCount: 0,\r\n        sellCount: 0,\r\n        netTokens: 0n,\r\n      };\r\n\r\n      existing.buyVolumeBNB += trade.BNBAmount;\r\n      existing.buyCount++;\r\n      existing.netTokens += trade.tokenAmount;\r\n      traderMap.set(addr, existing);\r\n    }\r\n\r\n    for (const trade of sellEvents) {\r\n      const addr = trade.trader.toLowerCase();\r\n      const existing = traderMap.get(addr) || {\r\n        buyVolumeBNB: 0n,\r\n        sellVolumeBNB: 0n,\r\n        buyCount: 0,\r\n        sellCount: 0,\r\n        netTokens: 0n,\r\n      };\r\n\r\n      existing.sellVolumeBNB += trade.BNBAmount;\r\n      existing.sellCount++;\r\n      existing.netTokens -= trade.tokenAmount;\r\n      traderMap.set(addr, existing);\r\n    }\r\n\r\n    // Convert to array and sort by total volume\r\n    const traders = Array.from(traderMap.entries())\r\n      .map(([address, data]) => ({\r\n        address,\r\n        buyVolumeBNB: data.buyVolumeBNB,\r\n        sellVolumeBNB: data.sellVolumeBNB,\r\n        totalVolumeBNB: data.buyVolumeBNB + data.sellVolumeBNB,\r\n        buyCount: data.buyCount,\r\n        sellCount: data.sellCount,\r\n        netTokens: data.netTokens,\r\n      }))\r\n      .sort((a, b) => (a.totalVolumeBNB > b.totalVolumeBNB ? -1 : 1));\r\n\r\n    return traders.slice(0, limit);\r\n  }\r\n\r\n  /**\r\n   * Get holder count estimate from trading activity\r\n   * Uses The Graph if available, falls back to events\r\n   */\r\n  async getEstimatedHolderCount(tokenAddress: string, fromBlock: number = 0): Promise<number> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    // ✅ Use The Graph if available (much faster and more accurate!)\r\n    if (this.hasGraphSupport() && this.graph) {\r\n      const holders = await this.graph.getTokenHolders(tokenAddress.toLowerCase(), {\r\n        first: 1000,\r\n        orderBy: 'balance',\r\n        orderDirection: 'desc'\r\n      });\r\n\r\n      // Count holders with positive balance\r\n      return holders.filter((h: any) => BigInt(h.balance) > 0n).length;\r\n    }\r\n\r\n    // ⚠️ Fallback to events (slower and less accurate)\r\n    const latestBlock = await this.provider.getBlockNumber();\r\n    const [buyEvents, sellEvents] = await Promise.all([\r\n      this.getTokensBoughtEvents(tokenAddress, fromBlock, latestBlock),\r\n      this.getTokensSoldEvents(tokenAddress, fromBlock, latestBlock),\r\n    ]);\r\n\r\n    // Track net token balances\r\n    const balances = new Map<string, bigint>();\r\n\r\n    for (const trade of buyEvents) {\r\n      const addr = trade.trader.toLowerCase();\r\n      balances.set(addr, (balances.get(addr) || 0n) + trade.tokenAmount);\r\n    }\r\n\r\n    for (const trade of sellEvents) {\r\n      const addr = trade.trader.toLowerCase();\r\n      balances.set(addr, (balances.get(addr) || 0n) - trade.tokenAmount);\r\n    }\r\n\r\n    // Count holders with positive balance\r\n    let holderCount = 0;\r\n    for (const balance of balances.values()) {\r\n      if (balance > 0n) {\r\n        holderCount++;\r\n      }\r\n    }\r\n\r\n    return holderCount;\r\n  }\r\n\r\n  /**\r\n   * Get 24h trading volume in BNB\r\n   * Returns both the bigint value and formatted string\r\n   * Uses The Graph if available, falls back to events\r\n   */\r\n  async get24hVolume(tokenAddress: string): Promise<{\r\n    volumeBNB: bigint;\r\n    volumeFormatted: string;\r\n    buyVolumeBNB: bigint;\r\n    sellVolumeBNB: bigint;\r\n    tradeCount: number;\r\n  }> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    // ✅ Use The Graph if available (much faster!)\r\n    if (this.hasGraphSupport() && this.graph) {\r\n      const currentTime = Math.floor(Date.now() / 1000);\r\n      const time24hAgo = currentTime - (24 * 60 * 60);\r\n\r\n      const allTrades = await this.graph.getTrades(\r\n        { token: tokenAddress.toLowerCase() },\r\n        { first: 1000, orderBy: 'timestamp', orderDirection: 'desc' }\r\n      );\r\n\r\n      // Filter trades from last 24 hours\r\n      const recent24hTrades = allTrades.filter((t: any) => Number(t.timestamp) >= time24hAgo);\r\n\r\n      const buyTrades = recent24hTrades.filter((t: any) => t.isBuy);\r\n      const sellTrades = recent24hTrades.filter((t: any) => !t.isBuy);\r\n\r\n      const buyVolume = buyTrades.reduce((sum: bigint, t: any) => sum + BigInt(t.BNBAmount), 0n);\r\n      const sellVolume = sellTrades.reduce((sum: bigint, t: any) => sum + BigInt(t.BNBAmount), 0n);\r\n      const totalVolume = buyVolume + sellVolume;\r\n\r\n      return {\r\n        volumeBNB: totalVolume,\r\n        volumeFormatted: this.safeFormatEther(totalVolume),\r\n        buyVolumeBNB: buyVolume,\r\n        sellVolumeBNB: sellVolume,\r\n        tradeCount: recent24hTrades.length,\r\n      };\r\n    }\r\n\r\n    // ⚠️ Fallback to events (slower, use only when Graph not available)\r\n    // Calculate blocks in last 24 hours (BNBad: ~1 second per block = ~86,400 blocks/day)\r\n    const latestBlock = await this.provider.getBlockNumber();\r\n    const blocksPerDay = 86400;\r\n    const fromBlock = Math.max(0, latestBlock - blocksPerDay);\r\n\r\n    const [buyEvents, sellEvents] = await Promise.all([\r\n      this.getTokensBoughtEvents(tokenAddress, fromBlock, latestBlock),\r\n      this.getTokensSoldEvents(tokenAddress, fromBlock, latestBlock),\r\n    ]);\r\n\r\n    const buyVolume = buyEvents.reduce((sum, trade) => sum + trade.BNBAmount, 0n);\r\n    const sellVolume = sellEvents.reduce((sum, trade) => sum + trade.BNBAmount, 0n);\r\n    const totalVolume = buyVolume + sellVolume;\r\n\r\n    return {\r\n      volumeBNB: totalVolume,\r\n      volumeFormatted: this.safeFormatEther(totalVolume),\r\n      buyVolumeBNB: buyVolume,\r\n      sellVolumeBNB: sellVolume,\r\n      tradeCount: buyEvents.length + sellEvents.length,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get 24h price change percentage\r\n   * Returns the price change over the last 24 hours\r\n   * Uses The Graph if available, falls back to events\r\n   */\r\n  async get24hPriceChange(tokenAddress: string): Promise<{\r\n    priceChange: number;\r\n    priceChangePercent: number;\r\n    currentPrice: bigint;\r\n    price24hAgo: bigint;\r\n  }> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    // Get current price\r\n    const poolInfo = await this.getPoolInfo(tokenAddress);\r\n    const currentPrice = poolInfo.currentPrice;\r\n\r\n    // ✅ Use The Graph if available (much faster!)\r\n    if (this.hasGraphSupport() && this.graph) {\r\n      const currentTime = Math.floor(Date.now() / 1000);\r\n      const time24hAgo = currentTime - (24 * 60 * 60);\r\n\r\n      const allTrades = await this.graph.getTrades(\r\n        { token: tokenAddress.toLowerCase() },\r\n        { first: 1000, orderBy: 'timestamp', orderDirection: 'asc' }\r\n      );\r\n\r\n      // Find the first trade around 24h ago\r\n      const trade24hAgo = allTrades.find((t: any) => Number(t.timestamp) >= time24hAgo);\r\n\r\n      // If no trades found 24h ago, return 0 change\r\n      if (!trade24hAgo) {\r\n        return {\r\n          priceChange: 0,\r\n          priceChangePercent: 0,\r\n          currentPrice,\r\n          price24hAgo: currentPrice,\r\n        };\r\n      }\r\n\r\n      const price24hAgo = BigInt(trade24hAgo.price);\r\n\r\n      // Calculate change\r\n      const priceDiff = currentPrice - price24hAgo;\r\n      const priceChange = Number(priceDiff) / Number(price24hAgo);\r\n      const priceChangePercent = priceChange * 100;\r\n\r\n      return {\r\n        priceChange,\r\n        priceChangePercent,\r\n        currentPrice,\r\n        price24hAgo,\r\n      };\r\n    }\r\n\r\n    // ⚠️ Fallback to events (slower, use only when Graph not available)\r\n    // Calculate blocks in last 24 hours\r\n    const latestBlock = await this.provider.getBlockNumber();\r\n    const blocksPerDay = 28800;\r\n    const targetBlock = Math.max(0, latestBlock - blocksPerDay);\r\n\r\n    // Get trades around 24h ago to find the price\r\n    const [buyEvents, sellEvents] = await Promise.all([\r\n      this.getTokensBoughtEvents(tokenAddress, Math.max(0, targetBlock - 100), targetBlock),\r\n      this.getTokensSoldEvents(tokenAddress, Math.max(0, targetBlock - 100), targetBlock),\r\n    ]);\r\n\r\n    // Combine and sort by block number to get the last trade around 24h ago\r\n    const allTrades = [...buyEvents, ...sellEvents].sort((a, b) => b.blockNumber - a.blockNumber);\r\n\r\n    // If no trades found 24h ago, return 0 change\r\n    if (allTrades.length === 0) {\r\n      return {\r\n        priceChange: 0,\r\n        priceChangePercent: 0,\r\n        currentPrice,\r\n        price24hAgo: currentPrice,\r\n      };\r\n    }\r\n\r\n    const price24hAgo = allTrades[0].price;\r\n\r\n    // Calculate change\r\n    const priceDiff = currentPrice - price24hAgo;\r\n    const priceChangePercent =\r\n      price24hAgo > 0n ? Number((priceDiff * 10000n) / price24hAgo) / 100 : 0;\r\n\r\n    return {\r\n      priceChange: Number(ethers.formatEther(priceDiff)),\r\n      priceChangePercent,\r\n      currentPrice,\r\n      price24hAgo,\r\n    };\r\n  }\r\n\r\n  // ==================== UTILITY METHODS ====================\r\n\r\n  /**\r\n   * Format BNB amount (bigint) to readable string\r\n   * Handles very small amounts without scientific notation\r\n   */\r\n  formatBNBAmount(amount: bigint): string {\r\n    return this.safeFormatEther(amount);\r\n  }\r\n\r\n  /**\r\n   * Format token amount (bigint) to readable string\r\n   * Handles very small amounts without scientific notation\r\n   */\r\n  formatTokenAmount(amount: bigint, decimals: number = 18): string {\r\n    const formatted = ethers.formatUnits(amount, decimals);\r\n    const numValue = Number(formatted);\r\n\r\n    // If the number is very small and would be in scientific notation\r\n    if (numValue > 0 && numValue < 0.000001) {\r\n      return numValue.toFixed(decimals).replace(/\\.?0+$/, '');\r\n    }\r\n\r\n    return formatted;\r\n  }\r\n\r\n  /**\r\n   * Parse BNB amount string to bigint\r\n   * Handles scientific notation and very small values\r\n   */\r\n  parseBNBAmount(amount: string): bigint {\r\n    return this.safeParseEther(amount);\r\n  }\r\n\r\n  // ==================== EVENT LISTENERS ====================\r\n\r\n  /**\r\n   * Listen to TokensBought events\r\n   */\r\n  onTokensBought(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('TokensBought', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * Listen to TokensSold events\r\n   */\r\n  onTokensSold(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('TokensSold', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * Listen to PoolGraduated events\r\n   */\r\n  onPoolGraduated(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('PoolGraduated', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * Listen to PostGraduationSell events\r\n   */\r\n  onPostGraduationSell(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('PostGraduationSell', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * Listen to CreatorFeesClaimed events\r\n   */\r\n  onCreatorFeesClaimed(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('CreatorFeesClaimed', callback, filter);\r\n  }\r\n}\r\n\r\n","// src/contracts/TokenFactory.ts\r\nimport { ethers } from 'ethers';\r\nimport { BaseContract } from './BaseContract';\r\nimport { TokenMetadata, TokenInfo } from '../types';\r\n\r\n// src/contracts/TokenFactory.ts (updated constructor)\r\nimport { TokenFactoryABI } from '../abis';\r\n\r\nexport class TokenFactory extends BaseContract {\r\n  constructor(\r\n    address: string,\r\n    provider: ethers.Provider,\r\n    signer?: ethers.Signer,\r\n    eventQueryProvider?: ethers.Provider,\r\n    graph?: any // SafuPadGraph type imported in BaseContract\r\n  ) {\r\n    super(address, TokenFactoryABI, provider, signer, eventQueryProvider, graph);\r\n  }\r\n  /**\r\n   * Get total number of tokens created\r\n   */\r\n  async getTotalTokens(): Promise<number> {\r\n    const total = await this.contract.getTotalTokens();\r\n    return Number(total);\r\n  }\r\n\r\n  /**\r\n   * Get token at index\r\n   */\r\n  async getTokenAtIndex(index: number): Promise<string> {\r\n    return await this.contract.getTokenAtIndex(index);\r\n  }\r\n\r\n  /**\r\n   * Get all tokens created by an address\r\n   */\r\n  async getCreatorTokens(creator: string): Promise<string[]> {\r\n    this.validateAddress(creator);\r\n    return await this.contract.getCreatorTokens(creator);\r\n  }\r\n\r\n  /**\r\n   * Compute vanity address for a token\r\n   */\r\n  async computeAddress(\r\n    name: string,\r\n    symbol: string,\r\n    totalSupply: number,\r\n    decimals: number,\r\n    owner: string,\r\n    metadata: TokenMetadata,\r\n    salt: string\r\n  ): Promise<string> {\r\n    this.validateAddress(owner);\r\n\r\n    const metadataArray = [\r\n      metadata.logoURI,\r\n      metadata.description,\r\n      metadata.website,\r\n      metadata.twitter,\r\n      metadata.telegram,\r\n      metadata.discord,\r\n    ];\r\n\r\n    return await this.contract.computeAddress(\r\n      name,\r\n      symbol,\r\n      totalSupply,\r\n      decimals,\r\n      owner,\r\n      metadataArray,\r\n      salt\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get token information (requires ERC20 interface)\r\n   */\r\n  async getTokenInfo(tokenAddress: string): Promise<TokenInfo> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tokenContract = new ethers.Contract(\r\n      tokenAddress,\r\n      [\r\n        'function name() view returns (string)',\r\n        'function symbol() view returns (string)',\r\n        'function decimals() view returns (uint8)',\r\n        'function totalSupply() view returns (uint256)',\r\n        'function getMetadata() view returns (tuple(string,string,string,string,string,string))',\r\n      ],\r\n      this.provider\r\n    );\r\n\r\n    const [name, symbol, decimals, totalSupply, metadata] = await Promise.all([\r\n      tokenContract.name(),\r\n      tokenContract.symbol(),\r\n      tokenContract.decimals(),\r\n      tokenContract.totalSupply(),\r\n      tokenContract.getMetadata(),\r\n    ]);\r\n\r\n    return {\r\n      address: tokenAddress,\r\n      name,\r\n      symbol,\r\n      decimals,\r\n      totalSupply,\r\n      metadata: {\r\n        logoURI: metadata[0],\r\n        description: metadata[1],\r\n        website: metadata[2],\r\n        twitter: metadata[3],\r\n        telegram: metadata[4],\r\n        discord: metadata[5],\r\n      },\r\n    };\r\n  }\r\n}\r\n","// src/contracts/PriceOracle.ts\r\nimport { ethers } from 'ethers';\r\nimport { BaseContract } from './BaseContract';\r\n\r\n// src/contracts/PriceOracle.ts (updated constructor)\r\nimport { PriceOracleABI } from '../abis';\r\n\r\nexport class PriceOracle extends BaseContract {\r\n  constructor(\r\n    address: string,\r\n    provider: ethers.Provider,\r\n    signer?: ethers.Signer,\r\n    eventQueryProvider?: ethers.Provider,\r\n    graph?: any // SafuPadGraph type imported in BaseContract\r\n  ) {\r\n    super(address, PriceOracleABI, provider, signer, eventQueryProvider, graph);\r\n  }\r\n  /**\r\n   * Get current BNB price in USD (8 decimals) - BSC native token\r\n   */\r\n  async getBNBPrice(): Promise<bigint> {\r\n    return await this.contract.getBNBPrice();\r\n  }\r\n\r\n  /**\r\n   * Get BNB price formatted as string (BSC native token)\r\n   */\r\n  async getBNBPriceFormatted(): Promise<string> {\r\n    const price = await this.getBNBPrice();\r\n    return ethers.formatUnits(price, 8);\r\n  }\r\n\r\n  /**\r\n   * Convert USD to BNB (BSC native token)\r\n   */\r\n  async usdToBNB(usdAmount: bigint): Promise<bigint> {\r\n    return await this.contract.usdToBNB(usdAmount);\r\n  }\r\n\r\n  /**\r\n   * Convert BNB to USD (BSC native token)\r\n   */\r\n  async bnbToUSD(bnbAmount: bigint): Promise<bigint> {\r\n    return await this.contract.bnbToUSD(bnbAmount);\r\n  }\r\n\r\n  /**\r\n   * Convert USD string to BNB (BSC native token)\r\n   */\r\n  async convertUSDToBNB(usdAmountStr: string): Promise<string> {\r\n    const usdAmount = ethers.parseUnits(usdAmountStr, 18);\r\n    const bnbAmount = await this.usdToBNB(usdAmount);\r\n    return ethers.formatEther(bnbAmount);\r\n  }\r\n\r\n  /**\r\n   * Convert BNB string to USD (BSC native token)\r\n   */\r\n  async convertBNBToUSD(bnbAmountStr: string): Promise<string> {\r\n    const bnbAmount = ethers.parseEther(bnbAmountStr);\r\n    const usdAmount = await this.bnbToUSD(bnbAmount);\r\n    return ethers.formatUnits(usdAmount, 18);\r\n  }\r\n\r\n  /**\r\n   * Get price feed address\r\n   */\r\n  async getPriceFeedAddress(): Promise<string> {\r\n    return await this.contract.priceFeed();\r\n  }\r\n}\r\n","// src/contracts/LPFeeHarvester.ts\r\nimport { ethers } from 'ethers';\r\nimport { BaseContract } from './BaseContract';\r\nimport {\r\n  LPLockInfo,\r\n  HarvestStats,\r\n  PlatformStats,\r\n  TxResult,\r\n  TxOptions,\r\n  EventFilterOptions,\r\n} from '../types';\r\nimport { GAS_LIMITS } from '../constants';\r\nimport { LPFeeHarvesterABI } from '../abis';\r\n\r\nexport class LPFeeHarvester extends BaseContract {\r\n  constructor(\r\n    address: string,\r\n    provider: ethers.Provider,\r\n    signer?: ethers.Signer,\r\n    eventQueryProvider?: ethers.Provider,\r\n    graph?: any // SafuPadGraph type imported in BaseContract\r\n  ) {\r\n    super(address, LPFeeHarvesterABI, provider, signer, eventQueryProvider, graph);\r\n  }\r\n\r\n  /**\r\n   * Get LP lock information\r\n   */\r\n  async getLockInfo(tokenAddress: string): Promise<LPLockInfo> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const info = await this.contract.getLockInfo(tokenAddress);\r\n\r\n    // ✅ FIX: Access tuple by index\r\n    return {\r\n      lpToken: info[0],\r\n      creator: info[1],\r\n      projectInfoFi: info[2],\r\n      lpAmount: info[3],\r\n      initialLPAmount: info[4],\r\n      lockTime: info[5],\r\n      unlockTime: info[6],\r\n      active: info[7],\r\n      totalFeesHarvested: info[8],\r\n      harvestCount: info[9],\r\n      timeUntilUnlock: info[10],\r\n      estimatedValue: info[11],\r\n      lastHarvestTime: info[12],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get harvest history for a token\r\n   */\r\n  async getHarvestHistory(tokenAddress: string): Promise<HarvestStats[]> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const history = await this.contract.getHarvestHistory(tokenAddress);\r\n\r\n    // ✅ FIX: Map array of tuples correctly\r\n    return history.map((h: any) => ({\r\n      bnbAmount: h[0],\r\n      token0Amount: h[1],\r\n      token1Amount: h[2],\r\n      timestamp: h[3],\r\n      lpBurned: h[4],\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Get platform statistics\r\n   */\r\n  async getPlatformStats(): Promise<PlatformStats> {\r\n    const stats = await this.contract.getPlatformStats();\r\n\r\n    // ✅ FIX: Access tuple by index\r\n    return {\r\n      totalValueLocked: stats[0],\r\n      totalFeesDistributed: stats[1],\r\n      totalHarvests: stats[2],\r\n      activeLocksCount: stats[3],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Check if harvesting is available\r\n   */\r\n  async canHarvest(tokenAddress: string): Promise<{ ready: boolean; timeRemaining: bigint }> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const result = await this.contract.canHarvest(tokenAddress);\r\n\r\n    // ✅ FIX: Access tuple by index\r\n    return {\r\n      ready: result[0],\r\n      timeRemaining: result[1],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Harvest fees from LP position\r\n   */\r\n  async harvestFees(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.harvestFees(\r\n      tokenAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.HARVEST_FEES)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Unlock LP tokens after lock period\r\n   */\r\n  async unlockLP(tokenAddress: string, options?: TxOptions): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const tx = await this.contract.unlockLP(\r\n      tokenAddress,\r\n      this.buildTxOptions(options, GAS_LIMITS.UNLOCK_LP)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Extend lock duration\r\n   */\r\n  async extendLock(\r\n    tokenAddress: string,\r\n    additionalDays: number,\r\n    options?: TxOptions\r\n  ): Promise<TxResult> {\r\n    this.requireSigner();\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const additionalDuration = BigInt(additionalDays * 24 * 60 * 60);\r\n\r\n    const tx = await this.contract.extendLock(\r\n      tokenAddress,\r\n      additionalDuration,\r\n      this.buildTxOptions(options)\r\n    );\r\n\r\n    return {\r\n      hash: tx.hash,\r\n      wait: () => tx.wait(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get all locked projects\r\n   */\r\n  async getAllLockedProjects(): Promise<string[]> {\r\n    return await this.contract.getAllLockedProjects();\r\n  }\r\n\r\n  /**\r\n   * Get active locks count\r\n   */\r\n  async getActiveLocksCount(): Promise<number> {\r\n    const count = await this.contract.getActiveLocksCount();\r\n    return Number(count);\r\n  }\r\n\r\n  /**\r\n   * Get LP value for a token\r\n   */\r\n  async getLPValue(tokenAddress: string): Promise<{\r\n    token0Amount: bigint;\r\n    token1Amount: bigint;\r\n    token0: string;\r\n    token1: string;\r\n  }> {\r\n    this.validateAddress(tokenAddress);\r\n\r\n    const value = await this.contract.getLPValue(tokenAddress);\r\n\r\n    // ✅ FIX: Access tuple by index\r\n    return {\r\n      token0Amount: value[0],\r\n      token1Amount: value[1],\r\n      token0: value[2],\r\n      token1: value[3],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Check if lock is expired\r\n   */\r\n  async isLockExpired(tokenAddress: string): Promise<boolean> {\r\n    const info = await this.getLockInfo(tokenAddress);\r\n    const currentTime = Math.floor(Date.now() / 1000);\r\n    return Number(info.unlockTime) <= currentTime;\r\n  }\r\n\r\n  /**\r\n   * Get time until unlock\r\n   */\r\n  async getTimeUntilUnlock(tokenAddress: string): Promise<number> {\r\n    const info = await this.getLockInfo(tokenAddress);\r\n    return Number(info.timeUntilUnlock);\r\n  }\r\n\r\n  /**\r\n   * Get time until next harvest\r\n   */\r\n  async getTimeUntilNextHarvest(tokenAddress: string): Promise<number> {\r\n    const canHarvestInfo = await this.canHarvest(tokenAddress);\r\n    if (canHarvestInfo.ready) {\r\n      return 0;\r\n    }\r\n    return Number(canHarvestInfo.timeRemaining);\r\n  }\r\n\r\n  /**\r\n   * Listen to FeesHarvested events\r\n   */\r\n  onFeesHarvested(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('FeesHarvested', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * Listen to LPUnlocked events\r\n   */\r\n  onLPUnlocked(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('LPUnlocked', callback, filter);\r\n  }\r\n\r\n  /**\r\n   * Listen to LockExtended events\r\n   */\r\n  onLockExtended(callback: (event: any) => void, filter?: EventFilterOptions): () => void {\r\n    return this.addEventListener('LockExtended', callback, filter);\r\n  }\r\n}\r\n","// src/graph/queries.ts\r\n\r\n/**\r\n * GraphQL queries for SafuPad subgraph\r\n */\r\n\r\n/**\r\n * Get token by address with all related data\r\n */\r\nexport const GET_TOKEN = `\r\n  query GetToken($id: ID!) {\r\n    token(id: $id) {\r\n      id\r\n      name\r\n      symbol\r\n      decimals\r\n      totalSupply\r\n      creator\r\n      createdAt\r\n      createdAtBlock\r\n      logoURI\r\n      description\r\n      website\r\n      twitter\r\n      telegram\r\n      discord\r\n      totalVolume\r\n      totalTrades\r\n      launch {\r\n        id\r\n        founder\r\n        launchType\r\n        totalSupply\r\n        raiseTarget\r\n        raiseMax\r\n        raiseDeadline\r\n        totalRaised\r\n        raiseCompleted\r\n        liquidityAdded\r\n        graduatedToPancakeSwap\r\n        burnLP\r\n        vestingDuration\r\n        vestingStartTime\r\n        founderTokens\r\n        founderTokensClaimed\r\n        vestedTokens\r\n        vestedTokensClaimed\r\n        startMarketCap\r\n        monthlyMarketCaps\r\n        consecutiveMonthsBelowStart\r\n        communityControlTriggered\r\n        liquidityBNB\r\n        liquidityTokens\r\n        raisedFundsVesting\r\n        raisedFundsClaimed\r\n        createdAt\r\n        createdAtBlock\r\n      }\r\n      pool {\r\n        id\r\n        creator\r\n        bnbReserve\r\n        tokenReserve\r\n        reservedTokens\r\n        virtualBnbReserve\r\n        marketCap\r\n        graduationMarketCap\r\n        currentPrice\r\n        active\r\n        graduated\r\n        burnLP\r\n        lpToken\r\n        bnbForPancakeSwap\r\n        launchBlock\r\n        graduationBnbThreshold\r\n        totalVolume\r\n        totalBuys\r\n        totalSells\r\n        createdAt\r\n        graduatedAt\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get all launches with optional filters\r\n */\r\nexport const GET_LAUNCHES = `\r\n  query GetLaunches(\r\n    $first: Int = 100\r\n    $skip: Int = 0\r\n    $orderBy: String = \"createdAt\"\r\n    $orderDirection: String = \"desc\"\r\n    $where: Launch_filter\r\n  ) {\r\n    launches(\r\n      first: $first\r\n      skip: $skip\r\n      orderBy: $orderBy\r\n      orderDirection: $orderDirection\r\n      where: $where\r\n    ) {\r\n      id\r\n      founder\r\n      launchType\r\n      totalSupply\r\n      raiseTarget\r\n      raiseMax\r\n      raiseDeadline\r\n      totalRaised\r\n      raiseCompleted\r\n      liquidityAdded\r\n      graduatedToPancakeSwap\r\n      burnLP\r\n      createdAt\r\n      createdAtBlock\r\n      token {\r\n        id\r\n        name\r\n        symbol\r\n        logoURI\r\n        totalVolume\r\n        totalTrades\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get launch by token address\r\n */\r\nexport const GET_LAUNCH = `\r\n  query GetLaunch($id: ID!) {\r\n    launch(id: $id) {\r\n      id\r\n      founder\r\n      launchType\r\n      totalSupply\r\n      raiseTarget\r\n      raiseMax\r\n      raiseDeadline\r\n      totalRaised\r\n      raiseCompleted\r\n      liquidityAdded\r\n      graduatedToPancakeSwap\r\n      burnLP\r\n      vestingDuration\r\n      vestingStartTime\r\n      founderTokens\r\n      founderTokensClaimed\r\n      vestedTokens\r\n      vestedTokensClaimed\r\n      startMarketCap\r\n      monthlyMarketCaps\r\n      consecutiveMonthsBelowStart\r\n      communityControlTriggered\r\n      liquidityBNB\r\n      liquidityTokens\r\n      raisedFundsVesting\r\n      raisedFundsClaimed\r\n      createdAt\r\n      createdAtBlock\r\n      token {\r\n        id\r\n        name\r\n        symbol\r\n        decimals\r\n        totalSupply\r\n        logoURI\r\n        description\r\n        website\r\n        twitter\r\n        telegram\r\n        discord\r\n      }\r\n      contributions {\r\n        id\r\n        contributor\r\n        amount\r\n        claimed\r\n        timestamp\r\n        transactionHash\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get pool by token address\r\n */\r\nexport const GET_POOL = `\r\n  query GetPool($id: ID!) {\r\n    pool(id: $id) {\r\n      id\r\n      creator\r\n      bnbReserve\r\n      tokenReserve\r\n      reservedTokens\r\n      virtualBnbReserve\r\n      marketCap\r\n      graduationMarketCap\r\n      currentPrice\r\n      active\r\n      graduated\r\n      burnLP\r\n      lpToken\r\n      bnbForPancakeSwap\r\n      launchBlock\r\n      graduationBnbThreshold\r\n      totalVolume\r\n      totalBuys\r\n      totalSells\r\n      createdAt\r\n      graduatedAt\r\n      token {\r\n        id\r\n        name\r\n        symbol\r\n        decimals\r\n        logoURI\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get pools with filters\r\n */\r\nexport const GET_POOLS = `\r\n  query GetPools(\r\n    $first: Int = 100\r\n    $skip: Int = 0\r\n    $orderBy: String = \"createdAt\"\r\n    $orderDirection: String = \"desc\"\r\n    $where: Pool_filter\r\n  ) {\r\n    pools(\r\n      first: $first\r\n      skip: $skip\r\n      orderBy: $orderBy\r\n      orderDirection: $orderDirection\r\n      where: $where\r\n    ) {\r\n      id\r\n      creator\r\n      bnbReserve\r\n      tokenReserve\r\n      currentPrice\r\n      marketCap\r\n      graduated\r\n      active\r\n      totalVolume\r\n      totalBuys\r\n      totalSells\r\n      createdAt\r\n      token {\r\n        id\r\n        name\r\n        symbol\r\n        logoURI\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get trades for a token\r\n */\r\nexport const GET_TRADES = `\r\n  query GetTrades(\r\n    $first: Int = 100\r\n    $skip: Int = 0\r\n    $orderBy: String = \"timestamp\"\r\n    $orderDirection: String = \"desc\"\r\n    $where: Trade_filter\r\n  ) {\r\n    trades(\r\n      first: $first\r\n      skip: $skip\r\n      orderBy: $orderBy\r\n      orderDirection: $orderDirection\r\n      where: $where\r\n    ) {\r\n      id\r\n      trader\r\n      isBuy\r\n      bnbAmount\r\n      tokenAmount\r\n      price\r\n      feeRate\r\n      totalFee\r\n      timestamp\r\n      blockNumber\r\n      transactionHash\r\n      token {\r\n        id\r\n        name\r\n        symbol\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get contributions for a launch\r\n */\r\nexport const GET_CONTRIBUTIONS = `\r\n  query GetContributions($launchId: ID!, $first: Int = 100, $skip: Int = 0) {\r\n    contributions(\r\n      first: $first\r\n      skip: $skip\r\n      orderBy: \"timestamp\"\r\n      orderDirection: \"desc\"\r\n      where: { launch: $launchId }\r\n    ) {\r\n      id\r\n      contributor\r\n      amount\r\n      claimed\r\n      timestamp\r\n      transactionHash\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get contribution for specific contributor\r\n */\r\nexport const GET_CONTRIBUTION = `\r\n  query GetContribution($launchId: ID!, $contributor: Bytes!) {\r\n    contributions(\r\n      where: { launch: $launchId, contributor: $contributor }\r\n    ) {\r\n      id\r\n      contributor\r\n      amount\r\n      claimed\r\n      timestamp\r\n      transactionHash\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get token holders\r\n */\r\nexport const GET_TOKEN_HOLDERS = `\r\n  query GetTokenHolders(\r\n    $tokenId: ID!\r\n    $first: Int = 100\r\n    $skip: Int = 0\r\n    $orderBy: String = \"balance\"\r\n    $orderDirection: String = \"desc\"\r\n  ) {\r\n    tokenHolders(\r\n      first: $first\r\n      skip: $skip\r\n      orderBy: $orderBy\r\n      orderDirection: $orderDirection\r\n      where: { token: $tokenId }\r\n    ) {\r\n      id\r\n      holder\r\n      balance\r\n      totalBought\r\n      totalSold\r\n      firstBuyTimestamp\r\n      lastActivityTimestamp\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get creator fees\r\n */\r\nexport const GET_CREATOR_FEES = `\r\n  query GetCreatorFees($tokenId: ID!, $creator: Bytes!) {\r\n    creatorFees(where: { token: $tokenId, creator: $creator }) {\r\n      id\r\n      accumulatedFees\r\n      totalClaimed\r\n      lastClaimTime\r\n      claimCount\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get platform statistics\r\n */\r\nexport const GET_PLATFORM_STATS = `\r\n  query GetPlatformStats {\r\n    platformStats(id: \"platform\") {\r\n      id\r\n      totalLaunches\r\n      totalProjectRaises\r\n      totalInstantLaunches\r\n      totalGraduated\r\n      totalVolume\r\n      totalFees\r\n      totalRaised\r\n      lastUpdated\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get daily statistics\r\n */\r\nexport const GET_DAILY_STATS = `\r\n  query GetDailyStats(\r\n    $first: Int = 30\r\n    $orderBy: String = \"date\"\r\n    $orderDirection: String = \"desc\"\r\n  ) {\r\n    dailyStats(\r\n      first: $first\r\n      orderBy: $orderBy\r\n      orderDirection: $orderDirection\r\n    ) {\r\n      id\r\n      date\r\n      launches\r\n      volume\r\n      fees\r\n      trades\r\n      uniqueTraders\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Search tokens by name or symbol\r\n */\r\nexport const SEARCH_TOKENS = `\r\n  query SearchTokens($searchText: String!, $first: Int = 10) {\r\n    tokens(\r\n      first: $first\r\n      where: {\r\n        or: [\r\n          { name_contains_nocase: $searchText }\r\n          { symbol_contains_nocase: $searchText }\r\n        ]\r\n      }\r\n      orderBy: \"totalVolume\"\r\n      orderDirection: \"desc\"\r\n    ) {\r\n      id\r\n      name\r\n      symbol\r\n      decimals\r\n      logoURI\r\n      totalVolume\r\n      totalTrades\r\n      createdAt\r\n      launch {\r\n        launchType\r\n        graduatedToPancakeSwap\r\n      }\r\n      pool {\r\n        currentPrice\r\n        marketCap\r\n        graduated\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get user's trading history\r\n */\r\nexport const GET_USER_TRADES = `\r\n  query GetUserTrades(\r\n    $trader: Bytes!\r\n    $first: Int = 100\r\n    $skip: Int = 0\r\n  ) {\r\n    trades(\r\n      first: $first\r\n      skip: $skip\r\n      orderBy: \"timestamp\"\r\n      orderDirection: \"desc\"\r\n      where: { trader: $trader }\r\n    ) {\r\n      id\r\n      isBuy\r\n      bnbAmount\r\n      tokenAmount\r\n      price\r\n      timestamp\r\n      transactionHash\r\n      token {\r\n        id\r\n        name\r\n        symbol\r\n        logoURI\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get user's contributions\r\n */\r\nexport const GET_USER_CONTRIBUTIONS = `\r\n  query GetUserContributions(\r\n    $contributor: Bytes!\r\n    $first: Int = 100\r\n    $skip: Int = 0\r\n  ) {\r\n    contributions(\r\n      first: $first\r\n      skip: $skip\r\n      orderBy: \"timestamp\"\r\n      orderDirection: \"desc\"\r\n      where: { contributor: $contributor }\r\n    ) {\r\n      id\r\n      amount\r\n      claimed\r\n      timestamp\r\n      transactionHash\r\n      launch {\r\n        id\r\n        launchType\r\n        raiseCompleted\r\n        token {\r\n          id\r\n          name\r\n          symbol\r\n          logoURI\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Get trending tokens (by volume in last 24h)\r\n */\r\nexport const GET_TRENDING_TOKENS = `\r\n  query GetTrendingTokens($first: Int = 10) {\r\n    tokens(\r\n      first: $first\r\n      orderBy: \"totalVolume\"\r\n      orderDirection: \"desc\"\r\n    ) {\r\n      id\r\n      name\r\n      symbol\r\n      logoURI\r\n      totalVolume\r\n      totalTrades\r\n      pool {\r\n        currentPrice\r\n        marketCap\r\n        graduated\r\n        totalBuys\r\n        totalSells\r\n      }\r\n    }\r\n  }\r\n`;\r\n","// src/graph/client.ts\r\n\r\nimport { GraphResponse } from './types';\r\n\r\n/**\r\n * GraphQL client for The Graph API\r\n */\r\nexport class GraphQLClient {\r\n  private endpoint: string;\r\n\r\n  constructor(endpoint: string) {\r\n    this.endpoint = endpoint;\r\n  }\r\n\r\n  /**\r\n   * Execute a GraphQL query\r\n   */\r\n  async query<T = any>(\r\n    query: string,\r\n    variables?: Record<string, any>\r\n  ): Promise<GraphResponse<T>> {\r\n    try {\r\n      const response = await fetch(this.endpoint, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          query,\r\n          variables: variables || {},\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result: GraphResponse<T> = await response.json();\r\n\r\n      if (result.errors && result.errors.length > 0) {\r\n        const error = result.errors[0];\r\n        throw new Error(`GraphQL error: ${error.message}`);\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      if (error instanceof Error) {\r\n        throw new Error(`Failed to query subgraph: ${error.message}`);\r\n      }\r\n      throw new Error('Failed to query subgraph: Unknown error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update the endpoint URL\r\n   */\r\n  setEndpoint(endpoint: string): void {\r\n    this.endpoint = endpoint;\r\n  }\r\n\r\n  /**\r\n   * Get current endpoint\r\n   */\r\n  getEndpoint(): string {\r\n    return this.endpoint;\r\n  }\r\n}\r\n","// src/graph/SafuPadGraph.ts\r\n\r\nimport { GraphQLClient } from './client';\r\nimport * as queries from './queries';\r\nimport {\r\n  GraphToken,\r\n  GraphLaunch,\r\n  GraphPool,\r\n  GraphTrade,\r\n  GraphContribution,\r\n  GraphTokenHolder,\r\n  GraphCreatorFees,\r\n  GraphPlatformStats,\r\n  GraphDailyStats,\r\n  PaginationParams,\r\n  LaunchFilters,\r\n  TradeFilters,\r\n  PoolFilters,\r\n} from './types';\r\n\r\n/**\r\n * SafuPad subgraph client\r\n * Provides methods to query indexed data from The Graph\r\n */\r\nexport class SafuPadGraph {\r\n  private client: GraphQLClient;\r\n\r\n  constructor(subgraphUrl: string) {\r\n    this.client = new GraphQLClient(subgraphUrl);\r\n  }\r\n\r\n  /**\r\n   * Get token by address\r\n   */\r\n  async getToken(tokenAddress: string): Promise<GraphToken | null> {\r\n    const response = await this.client.query<{ token: GraphToken }>(queries.GET_TOKEN, {\r\n      id: tokenAddress.toLowerCase(),\r\n    });\r\n\r\n    return response.data?.token || null;\r\n  }\r\n\r\n  /**\r\n   * Get launch by token address\r\n   */\r\n  async getLaunch(tokenAddress: string): Promise<GraphLaunch | null> {\r\n    const response = await this.client.query<{ launch: GraphLaunch }>(queries.GET_LAUNCH, {\r\n      id: tokenAddress.toLowerCase(),\r\n    });\r\n\r\n    return response.data?.launch || null;\r\n  }\r\n\r\n  /**\r\n   * Get all launches with optional filters and pagination\r\n   */\r\n  async getLaunches(\r\n    filters?: LaunchFilters,\r\n    pagination?: PaginationParams\r\n  ): Promise<GraphLaunch[]> {\r\n    const where: Record<string, any> = {};\r\n\r\n    if (filters?.launchType) {\r\n      where.launchType = filters.launchType;\r\n    }\r\n    if (filters?.founder) {\r\n      where.founder = filters.founder.toLowerCase();\r\n    }\r\n    if (filters?.raiseCompleted !== undefined) {\r\n      where.raiseCompleted = filters.raiseCompleted;\r\n    }\r\n    if (filters?.graduatedToPancakeSwap !== undefined) {\r\n      where.graduatedToPancakeSwap = filters.graduatedToPancakeSwap;\r\n    }\r\n\r\n    const response = await this.client.query<{ launches: GraphLaunch[] }>(queries.GET_LAUNCHES, {\r\n      where,\r\n      first: pagination?.first || 100,\r\n      skip: pagination?.skip || 0,\r\n      orderBy: pagination?.orderBy || 'createdAt',\r\n      orderDirection: pagination?.orderDirection || 'desc',\r\n    });\r\n\r\n    return response.data?.launches || [];\r\n  }\r\n\r\n  /**\r\n   * Get pool by token address\r\n   */\r\n  async getPool(tokenAddress: string): Promise<GraphPool | null> {\r\n    const response = await this.client.query<{ pool: GraphPool }>(queries.GET_POOL, {\r\n      id: tokenAddress.toLowerCase(),\r\n    });\r\n\r\n    return response.data?.pool || null;\r\n  }\r\n\r\n  /**\r\n   * Get all pools with optional filters and pagination\r\n   */\r\n  async getPools(filters?: PoolFilters, pagination?: PaginationParams): Promise<GraphPool[]> {\r\n    const where: Record<string, any> = {};\r\n\r\n    if (filters?.graduated !== undefined) {\r\n      where.graduated = filters.graduated;\r\n    }\r\n    if (filters?.active !== undefined) {\r\n      where.active = filters.active;\r\n    }\r\n\r\n    const response = await this.client.query<{ pools: GraphPool[] }>(queries.GET_POOLS, {\r\n      where,\r\n      first: pagination?.first || 100,\r\n      skip: pagination?.skip || 0,\r\n      orderBy: pagination?.orderBy || 'createdAt',\r\n      orderDirection: pagination?.orderDirection || 'desc',\r\n    });\r\n\r\n    return response.data?.pools || [];\r\n  }\r\n\r\n  /**\r\n   * Get trades with optional filters and pagination\r\n   */\r\n  async getTrades(filters?: TradeFilters, pagination?: PaginationParams): Promise<GraphTrade[]> {\r\n    const where: Record<string, any> = {};\r\n\r\n    if (filters?.token) {\r\n      where.token = filters.token.toLowerCase();\r\n    }\r\n    if (filters?.trader) {\r\n      where.trader = filters.trader.toLowerCase();\r\n    }\r\n    if (filters?.isBuy !== undefined) {\r\n      where.isBuy = filters.isBuy;\r\n    }\r\n\r\n    const response = await this.client.query<{ trades: GraphTrade[] }>(queries.GET_TRADES, {\r\n      where,\r\n      first: pagination?.first || 100,\r\n      skip: pagination?.skip || 0,\r\n      orderBy: pagination?.orderBy || 'timestamp',\r\n      orderDirection: pagination?.orderDirection || 'desc',\r\n    });\r\n\r\n    return response.data?.trades || [];\r\n  }\r\n\r\n  /**\r\n   * Get contributions for a launch\r\n   */\r\n  async getContributions(\r\n    launchId: string,\r\n    pagination?: PaginationParams\r\n  ): Promise<GraphContribution[]> {\r\n    const response = await this.client.query<{ contributions: GraphContribution[] }>(\r\n      queries.GET_CONTRIBUTIONS,\r\n      {\r\n        launchId: launchId.toLowerCase(),\r\n        first: pagination?.first || 100,\r\n        skip: pagination?.skip || 0,\r\n      }\r\n    );\r\n\r\n    return response.data?.contributions || [];\r\n  }\r\n\r\n  /**\r\n   * Get contribution for a specific contributor\r\n   */\r\n  async getContribution(\r\n    launchId: string,\r\n    contributor: string\r\n  ): Promise<GraphContribution | null> {\r\n    const response = await this.client.query<{ contributions: GraphContribution[] }>(\r\n      queries.GET_CONTRIBUTION,\r\n      {\r\n        launchId: launchId.toLowerCase(),\r\n        contributor: contributor.toLowerCase(),\r\n      }\r\n    );\r\n\r\n    const contributions = response.data?.contributions || [];\r\n    return contributions.length > 0 ? contributions[0] : null;\r\n  }\r\n\r\n  /**\r\n   * Get token holders\r\n   */\r\n  async getTokenHolders(\r\n    tokenId: string,\r\n    pagination?: PaginationParams\r\n  ): Promise<GraphTokenHolder[]> {\r\n    const response = await this.client.query<{ tokenHolders: GraphTokenHolder[] }>(\r\n      queries.GET_TOKEN_HOLDERS,\r\n      {\r\n        tokenId: tokenId.toLowerCase(),\r\n        first: pagination?.first || 100,\r\n        skip: pagination?.skip || 0,\r\n        orderBy: pagination?.orderBy || 'balance',\r\n        orderDirection: pagination?.orderDirection || 'desc',\r\n      }\r\n    );\r\n\r\n    return response.data?.tokenHolders || [];\r\n  }\r\n\r\n  /**\r\n   * Get creator fees\r\n   */\r\n  async getCreatorFees(tokenId: string, creator: string): Promise<GraphCreatorFees | null> {\r\n    const response = await this.client.query<{ creatorFees: GraphCreatorFees[] }>(\r\n      queries.GET_CREATOR_FEES,\r\n      {\r\n        tokenId: tokenId.toLowerCase(),\r\n        creator: creator.toLowerCase(),\r\n      }\r\n    );\r\n\r\n    const fees = response.data?.creatorFees || [];\r\n    return fees.length > 0 ? fees[0] : null;\r\n  }\r\n\r\n  /**\r\n   * Get platform statistics\r\n   */\r\n  async getPlatformStats(): Promise<GraphPlatformStats | null> {\r\n    const response = await this.client.query<{ platformStats: GraphPlatformStats }>(\r\n      queries.GET_PLATFORM_STATS\r\n    );\r\n\r\n    return response.data?.platformStats || null;\r\n  }\r\n\r\n  /**\r\n   * Get daily statistics\r\n   */\r\n  async getDailyStats(days: number = 30): Promise<GraphDailyStats[]> {\r\n    const response = await this.client.query<{ dailyStats: GraphDailyStats[] }>(\r\n      queries.GET_DAILY_STATS,\r\n      {\r\n        first: days,\r\n      }\r\n    );\r\n\r\n    return response.data?.dailyStats || [];\r\n  }\r\n\r\n  /**\r\n   * Search tokens by name or symbol\r\n   */\r\n  async searchTokens(searchText: string, limit: number = 10): Promise<GraphToken[]> {\r\n    const response = await this.client.query<{ tokens: GraphToken[] }>(queries.SEARCH_TOKENS, {\r\n      searchText,\r\n      first: limit,\r\n    });\r\n\r\n    return response.data?.tokens || [];\r\n  }\r\n\r\n  /**\r\n   * Get user's trading history\r\n   */\r\n  async getUserTrades(trader: string, pagination?: PaginationParams): Promise<GraphTrade[]> {\r\n    const response = await this.client.query<{ trades: GraphTrade[] }>(queries.GET_USER_TRADES, {\r\n      trader: trader.toLowerCase(),\r\n      first: pagination?.first || 100,\r\n      skip: pagination?.skip || 0,\r\n    });\r\n\r\n    return response.data?.trades || [];\r\n  }\r\n\r\n  /**\r\n   * Get user's contributions\r\n   */\r\n  async getUserContributions(\r\n    contributor: string,\r\n    pagination?: PaginationParams\r\n  ): Promise<GraphContribution[]> {\r\n    const response = await this.client.query<{ contributions: GraphContribution[] }>(\r\n      queries.GET_USER_CONTRIBUTIONS,\r\n      {\r\n        contributor: contributor.toLowerCase(),\r\n        first: pagination?.first || 100,\r\n        skip: pagination?.skip || 0,\r\n      }\r\n    );\r\n\r\n    return response.data?.contributions || [];\r\n  }\r\n\r\n  /**\r\n   * Get trending tokens\r\n   */\r\n  async getTrendingTokens(limit: number = 10): Promise<GraphToken[]> {\r\n    const response = await this.client.query<{ tokens: GraphToken[] }>(\r\n      queries.GET_TRENDING_TOKENS,\r\n      {\r\n        first: limit,\r\n      }\r\n    );\r\n\r\n    return response.data?.tokens || [];\r\n  }\r\n\r\n  /**\r\n   * Get active pools (not graduated)\r\n   */\r\n  async getActivePools(pagination?: PaginationParams): Promise<GraphPool[]> {\r\n    return this.getPools({ graduated: false, active: true }, pagination);\r\n  }\r\n\r\n  /**\r\n   * Get graduated pools\r\n   */\r\n  async getGraduatedPools(pagination?: PaginationParams): Promise<GraphPool[]> {\r\n    return this.getPools({ graduated: true }, pagination);\r\n  }\r\n\r\n  /**\r\n   * Get active launches (not graduated)\r\n   */\r\n  async getActiveLaunches(pagination?: PaginationParams): Promise<GraphLaunch[]> {\r\n    return this.getLaunches({ graduatedToPancakeSwap: false }, pagination);\r\n  }\r\n\r\n  /**\r\n   * Get graduated launches\r\n   */\r\n  async getGraduatedLaunches(pagination?: PaginationParams): Promise<GraphLaunch[]> {\r\n    return this.getLaunches({ graduatedToPancakeSwap: true }, pagination);\r\n  }\r\n\r\n  /**\r\n   * Get Project Raise launches\r\n   */\r\n  async getProjectRaises(pagination?: PaginationParams): Promise<GraphLaunch[]> {\r\n    return this.getLaunches({ launchType: 'PROJECT_RAISE' }, pagination);\r\n  }\r\n\r\n  /**\r\n   * Get Instant Launch tokens\r\n   */\r\n  async getInstantLaunches(pagination?: PaginationParams): Promise<GraphLaunch[]> {\r\n    return this.getLaunches({ launchType: 'INSTANT_LAUNCH' }, pagination);\r\n  }\r\n\r\n  /**\r\n   * Update subgraph endpoint\r\n   */\r\n  setSubgraphUrl(url: string): void {\r\n    this.client.setEndpoint(url);\r\n  }\r\n\r\n  /**\r\n   * Get current subgraph endpoint\r\n   */\r\n  getSubgraphUrl(): string {\r\n    return this.client.getEndpoint();\r\n  }\r\n}\r\n","// src/SafuPadSDK.ts\r\nimport { ethers } from 'ethers';\r\nimport { LaunchpadManager } from './contracts/LaunchpadManager';\r\nimport { BondingCurveDEX } from './contracts/BondingCurveDEX';\r\nimport { TokenFactory } from './contracts/TokenFactory';\r\nimport { PriceOracle } from './contracts/PriceOracle';\r\nimport { LPFeeHarvester } from './contracts/LPFeeHarvester';\r\nimport { SafuPadGraph } from './graph';\r\nimport { NetworkConfig, SDKConfig } from './types';\r\nimport { NETWORKS, DEFAULT_CONFIG } from './constants';\r\n\r\n/**\r\n * SafuPad SDK - Main entry point for interacting with SafuPad contracts\r\n *\r\n * @example\r\n * ```typescript\r\n * import { SafuPadSDK } from '@safupad/sdk';\r\n *\r\n * const sdk = new SafuPadSDK({\r\n *   network: 'bsc',\r\n *   provider: window.ethereum,\r\n * });\r\n *\r\n * await sdk.initialize();\r\n *\r\n * // Create a launch\r\n * const tx = await sdk.launchpad.createLaunch({\r\n *   name: 'MyToken',\r\n *   symbol: 'MTK',\r\n *   totalSupply: 1000000000,\r\n *   raiseTargetBNB: '50',\r\n *   raiseMaxBNB: '100',\r\n *   vestingDuration: 90,\r\n *   metadata: {...},\r\n *   burnLP: false\r\n * });\r\n * ```\r\n */\r\nexport class SafuPadSDK {\r\n  private provider: ethers.Provider;\r\n  private eventQueryProvider: ethers.Provider; // Separate provider for event queries (uses Alchemy if configured)\r\n  private signer?: ethers.Signer;\r\n  private config: SDKConfig;\r\n  private networkConfig: NetworkConfig;\r\n\r\n  // Contract instances\r\n  public launchpad: LaunchpadManager;\r\n  public bondingDex: BondingCurveDEX;\r\n  public tokenFactory: TokenFactory;\r\n  public priceOracle: PriceOracle;\r\n  public lpHarvester: LPFeeHarvester;\r\n\r\n  // The Graph client\r\n  public graph?: SafuPadGraph;\r\n\r\n  private initialized: boolean = false;\r\n\r\n  /**\r\n   * Create a new SafuPad SDK instance\r\n   *\r\n   * @param config - SDK configuration\r\n   */\r\n  constructor(config: Partial<SDKConfig>) {\r\n    this.config = { ...DEFAULT_CONFIG, ...config };\r\n\r\n    // Get network configuration\r\n    if (typeof this.config.network === 'string') {\r\n      this.networkConfig = NETWORKS[this.config.network];\r\n      if (!this.networkConfig) {\r\n        throw new Error(`Unsupported network: ${this.config.network}`);\r\n      }\r\n    } else {\r\n      this.networkConfig = this.config.network!;\r\n    }\r\n\r\n    // Setup provider\r\n    if (this.config.provider) {\r\n      if (typeof this.config.provider === 'string') {\r\n        this.provider = new ethers.JsonRpcProvider(this.config.provider);\r\n      } else if ('request' in this.config.provider) {\r\n        // Browser wallet provider (e.g., MetaMask)\r\n        this.provider = new ethers.BrowserProvider(this.config.provider as any);\r\n      } else {\r\n        this.provider = this.config.provider as ethers.Provider;\r\n      }\r\n    } else {\r\n      this.provider = new ethers.JsonRpcProvider(this.networkConfig.rpcUrl);\r\n    }\r\n\r\n    // Setup signer if private key provided\r\n    if (this.config.privateKey) {\r\n      this.signer = new ethers.Wallet(this.config.privateKey, this.provider);\r\n    }\r\n\r\n    // Setup event query provider (uses Alchemy if API key provided, otherwise uses regular provider)\r\n    if (this.config.alchemyApiKey && this.networkConfig.alchemyRpcUrlTemplate) {\r\n      const alchemyUrl = this.networkConfig.alchemyRpcUrlTemplate.replace(\r\n        '{apiKey}',\r\n        this.config.alchemyApiKey\r\n      );\r\n      this.eventQueryProvider = new ethers.JsonRpcProvider(alchemyUrl);\r\n    } else {\r\n      // Use the same provider for event queries if no Alchemy key provided\r\n      this.eventQueryProvider = this.provider;\r\n    }\r\n\r\n    // Initialize The Graph client first (if subgraph URL is available)\r\n    const subgraphUrl = this.config.subgraphUrl || this.networkConfig.subgraphUrl;\r\n    if (subgraphUrl) {\r\n      this.graph = new SafuPadGraph(subgraphUrl);\r\n    }\r\n\r\n    // Initialize contract instances with The Graph client\r\n    this.launchpad = new LaunchpadManager(\r\n      this.networkConfig.contracts.launchpadManager,\r\n      this.provider,\r\n      this.signer,\r\n      this.eventQueryProvider,\r\n      this.graph\r\n    );\r\n\r\n    this.bondingDex = new BondingCurveDEX(\r\n      this.networkConfig.contracts.bondingCurveDEX,\r\n      this.provider,\r\n      this.signer,\r\n      this.eventQueryProvider,\r\n      this.graph\r\n    );\r\n\r\n    this.tokenFactory = new TokenFactory(\r\n      this.networkConfig.contracts.tokenFactory,\r\n      this.provider,\r\n      this.signer,\r\n      this.eventQueryProvider,\r\n      this.graph\r\n    );\r\n\r\n    this.priceOracle = new PriceOracle(\r\n      this.networkConfig.contracts.priceOracle,\r\n      this.provider,\r\n      this.signer,\r\n      this.eventQueryProvider,\r\n      this.graph\r\n    );\r\n\r\n    this.lpHarvester = new LPFeeHarvester(\r\n      this.networkConfig.contracts.lpFeeHarvester,\r\n      this.provider,\r\n      this.signer,\r\n      this.eventQueryProvider,\r\n      this.graph\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Initialize the SDK and verify connections\r\n   */\r\n  async initialize(): Promise<void> {\r\n    if (this.initialized) {\r\n      return;\r\n    }\r\n\r\n    // Verify network\r\n    const network = await this.provider.getNetwork();\r\n    if (Number(network.chainId) !== this.networkConfig.chainId) {\r\n      throw new Error(\r\n        `Network mismatch: expected ${this.networkConfig.chainId}, got ${network.chainId}`\r\n      );\r\n    }\r\n\r\n    // Get signer if using browser wallet\r\n    if (!this.signer && 'request' in this.config.provider!) {\r\n      const browserProvider = this.provider as ethers.BrowserProvider;\r\n      this.signer = await browserProvider.getSigner();\r\n\r\n      // Update contract signers\r\n      this.launchpad.updateSigner(this.signer);\r\n      this.bondingDex.updateSigner(this.signer);\r\n      this.tokenFactory.updateSigner(this.signer);\r\n      this.priceOracle.updateSigner(this.signer);\r\n      this.lpHarvester.updateSigner(this.signer);\r\n    }\r\n    this.initialized = true;\r\n\r\n\r\n  }\r\n\r\n  /**\r\n   * Connect a wallet (useful for browser environments)\r\n   */\r\n  async connect(): Promise<string> {\r\n    if (!('request' in this.config.provider!)) {\r\n      throw new Error('No browser wallet provider available');\r\n    }\r\n\r\n    const browserProvider = this.provider as ethers.BrowserProvider;\r\n    await browserProvider.send('eth_requestAccounts', []);\r\n\r\n    this.signer = await browserProvider.getSigner();\r\n    const address = await this.signer.getAddress();\r\n\r\n    // Update all contract signers\r\n    this.launchpad.updateSigner(this.signer);\r\n    this.bondingDex.updateSigner(this.signer);\r\n    this.tokenFactory.updateSigner(this.signer);\r\n    this.priceOracle.updateSigner(this.signer);\r\n    this.lpHarvester.updateSigner(this.signer);\r\n\r\n    return address;\r\n  }\r\n\r\n  /**\r\n   * Get the current connected address\r\n   */\r\n  async getAddress(): Promise<string> {\r\n    if (!this.signer) {\r\n      throw new Error('No signer available');\r\n    }\r\n    return this.signer.getAddress();\r\n  }\r\n\r\n  /**\r\n   * Get the current BNB balance (BSC native token)\r\n   */\r\n  async getBalance(address?: string): Promise<string> {\r\n    const addr = address || (await this.getAddress());\r\n    const balance = await this.provider.getBalance(addr);\r\n    return ethers.formatEther(balance);\r\n  }\r\n\r\n  /**\r\n   * Get network information\r\n   */\r\n  getNetworkInfo(): NetworkConfig {\r\n    return this.networkConfig;\r\n  }\r\n\r\n  /**\r\n   * Check if SDK is initialized\r\n   */\r\n  isInitialized(): boolean {\r\n    return this.initialized;\r\n  }\r\n\r\n  /**\r\n   * Get provider\r\n   */\r\n  getProvider(): ethers.Provider {\r\n    return this.provider;\r\n  }\r\n\r\n  /**\r\n   * Get event query provider (uses Alchemy if configured)\r\n   */\r\n  getEventQueryProvider(): ethers.Provider {\r\n    return this.eventQueryProvider;\r\n  }\r\n\r\n  /**\r\n   * Get signer\r\n   */\r\n  getSigner(): ethers.Signer | undefined {\r\n    return this.signer;\r\n  }\r\n\r\n  /**\r\n   * Update signer (useful when switching accounts)\r\n   */\r\n  updateSigner(signer: ethers.Signer): void {\r\n    this.signer = signer;\r\n    this.launchpad.updateSigner(signer);\r\n    this.bondingDex.updateSigner(signer);\r\n    this.tokenFactory.updateSigner(signer);\r\n    this.priceOracle.updateSigner(signer);\r\n    this.lpHarvester.updateSigner(signer);\r\n  }\r\n\r\n  /**\r\n   * Disconnect wallet\r\n   */\r\n  disconnect(): void {\r\n    this.signer = undefined;\r\n    this.initialized = false;\r\n  }\r\n\r\n  /**\r\n   * Get current gas price\r\n   */\r\n  async getGasPrice(): Promise<string> {\r\n    const feeData = await this.provider.getFeeData();\r\n    return ethers.formatUnits(feeData.gasPrice || 0n, 'gwei');\r\n  }\r\n\r\n  /**\r\n   * Estimate gas for a transaction\r\n   */\r\n  async estimateGas(tx: ethers.TransactionRequest): Promise<string> {\r\n    const gas = await this.provider.estimateGas(tx);\r\n    return gas.toString();\r\n  }\r\n\r\n  /**\r\n   * Wait for transaction confirmation\r\n   */\r\n  async waitForTransaction(\r\n    txHash: string,\r\n    confirmations: number = 1\r\n  ): Promise<ethers.TransactionReceipt | null> {\r\n    return this.provider.waitForTransaction(txHash, confirmations);\r\n  }\r\n\r\n  /**\r\n   * Get transaction receipt\r\n   */\r\n  async getTransactionReceipt(txHash: string): Promise<ethers.TransactionReceipt | null> {\r\n    return this.provider.getTransactionReceipt(txHash);\r\n  }\r\n\r\n  /**\r\n   * Format BNB amount (BSC native token)\r\n   */\r\n  formatBNB(amount: bigint | string): string {\r\n    return ethers.formatEther(amount);\r\n  }\r\n\r\n  /**\r\n   * Parse BNB amount (BSC native token)\r\n   */\r\n  parseBNB(amount: string): bigint {\r\n    return ethers.parseEther(amount);\r\n  }\r\n\r\n  /**\r\n   * Format token amount with decimals\r\n   */\r\n  formatToken(amount: bigint | string, decimals: number = 18): string {\r\n    return ethers.formatUnits(amount, decimals);\r\n  }\r\n\r\n  /**\r\n   * Parse token amount with decimals\r\n   */\r\n  parseToken(amount: string, decimals: number = 18): bigint {\r\n    return ethers.parseUnits(amount, decimals);\r\n  }\r\n\r\n  /**\r\n   * Get block explorer URL for address\r\n   */\r\n  getExplorerUrl(type: 'address' | 'tx', value: string): string {\r\n    return `${this.networkConfig.explorerUrl}/${type}/${value}`;\r\n  }\r\n\r\n  /**\r\n   * Create a new SDK instance with a different signer\r\n   */\r\n  withSigner(signer: ethers.Signer): SafuPadSDK {\r\n    const newSdk = new SafuPadSDK({\r\n      ...this.config,\r\n      privateKey: undefined,\r\n    });\r\n\r\n    newSdk.updateSigner(signer);\r\n    newSdk.initialized = this.initialized;\r\n\r\n    return newSdk;\r\n  }\r\n\r\n  /**\r\n   * Check if The Graph client is available\r\n   */\r\n  hasGraphSupport(): boolean {\r\n    return this.graph !== undefined;\r\n  }\r\n\r\n  /**\r\n   * Get The Graph client\r\n   * Throws if not configured\r\n   */\r\n  getGraph(): SafuPadGraph {\r\n    if (!this.graph) {\r\n      throw new Error(\r\n        'The Graph client not configured. Provide a subgraphUrl in config or use a network with subgraph support.'\r\n      );\r\n    }\r\n    return this.graph;\r\n  }\r\n\r\n  /**\r\n   * Set custom subgraph URL\r\n   */\r\n  setSubgraphUrl(url: string): void {\r\n    if (this.graph) {\r\n      this.graph.setSubgraphUrl(url);\r\n    } else {\r\n      this.graph = new SafuPadGraph(url);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get SDK version\r\n   */\r\n  static getVersion(): string {\r\n    return '2.0.0';\r\n  }\r\n}\r\n\r\nexport default SafuPadSDK;\r\n","// src/utils/index.ts\r\nimport { ethers } from 'ethers';\r\nimport {\r\n  LaunchInfo,\r\n  PoolInfo,\r\n  FormattedLaunchInfo,\r\n  FormattedPoolInfo,\r\n  LaunchType,\r\n} from '../types';\r\n\r\n/**\r\n * Format utilities\r\n */\r\nexport class Formatter {\r\n  /**\r\n   * Format BNB amount to string (BSC native token)\r\n   */\r\n  static formatBNB(amount: bigint | string): string {\r\n    return ethers.formatEther(amount);\r\n  }\r\n\r\n  /**\r\n   * Format token amount to string\r\n   */\r\n  static formatToken(amount: bigint | string, decimals: number = 18): string {\r\n    return ethers.formatUnits(amount, decimals);\r\n  }\r\n\r\n  /**\r\n   * Format USD amount to string\r\n   */\r\n  static formatUSD(amount: bigint | string, decimals: number = 18): string {\r\n    const formatted = ethers.formatUnits(amount, decimals);\r\n    const num = parseFloat(formatted);\r\n    return num.toLocaleString('en-US', {\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Format percentage\r\n   */\r\n  static formatPercent(value: number | bigint, decimals: number = 2): string {\r\n    const num = typeof value === 'bigint' ? Number(value) : value;\r\n    return `${num.toFixed(decimals)}%`;\r\n  }\r\n\r\n  /**\r\n   * Format timestamp to date\r\n   */\r\n  static formatDate(timestamp: bigint | number): Date {\r\n    const ts = typeof timestamp === 'bigint' ? Number(timestamp) : timestamp;\r\n    return new Date(ts * 1000);\r\n  }\r\n\r\n  /**\r\n   * Format duration in seconds to human readable\r\n   */\r\n  static formatDuration(seconds: number): string {\r\n    const days = Math.floor(seconds / 86400);\r\n    const hours = Math.floor((seconds % 86400) / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n\r\n    if (days > 0) {\r\n      return `${days}d ${hours}h`;\r\n    } else if (hours > 0) {\r\n      return `${hours}h ${minutes}m`;\r\n    } else if (minutes > 0) {\r\n      return `${minutes}m`;\r\n    } else {\r\n      return `${seconds}s`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Format address (shorten)\r\n   */\r\n  static formatAddress(\r\n    address: string,\r\n    startChars: number = 6,\r\n    endChars: number = 4\r\n  ): string {\r\n    if (!ethers.isAddress(address)) {\r\n      return address;\r\n    }\r\n    return `${address.slice(0, startChars)}...${address.slice(-endChars)}`;\r\n  }\r\n\r\n  /**\r\n   * Format launch info for display\r\n   */\r\n  static formatLaunchInfo(info: LaunchInfo): FormattedLaunchInfo {\r\n    const totalRaised = parseFloat(ethers.formatEther(info.totalRaised));\r\n    const raiseTarget = parseFloat(ethers.formatEther(info.raiseTarget));\r\n    const progressPercent = raiseTarget > 0 ? (totalRaised / raiseTarget) * 100 : 0;\r\n\r\n    return {\r\n      founder: info.founder,\r\n      raiseTarget: ethers.formatEther(info.raiseTarget),\r\n      raiseMax: ethers.formatEther(info.raiseMax),\r\n      totalRaised: ethers.formatEther(info.totalRaised),\r\n      raiseDeadline: Formatter.formatDate(info.raiseDeadline),\r\n      raiseCompleted: info.raiseCompleted,\r\n      graduatedToPancakeSwap: info.graduatedToPancakeSwap,\r\n      progressPercent: Math.min(progressPercent, 100),\r\n      launchType: info.launchType === LaunchType.PROJECT_RAISE ? 'PROJECT_RAISE' : 'INSTANT_LAUNCH',\r\n      burnLP: info.burnLP,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Format pool info for display\r\n   */\r\n  static formatPoolInfo(info: PoolInfo): FormattedPoolInfo {\r\n    return {\r\n      marketCapUSD: Formatter.formatUSD(info.marketCapUSD),\r\n      marketCapBNB: Formatter.formatBNB(info.marketCapBNB),\r\n      bnbReserve: Formatter.formatBNB(info.bnbReserve),\r\n      tokenReserve: Formatter.formatToken(info.tokenReserve),\r\n      currentPrice: Formatter.formatBNB(info.currentPrice),\r\n      priceMultiplier: `${Number(info.priceMultiplier) / 100}x`,\r\n      graduationProgress: Number(info.graduationProgress),\r\n      graduated: info.graduated,\r\n      currentFee: '', // Will be filled by caller\r\n      feeStage: '', // Will be filled by caller\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Validation utilities\r\n */\r\nexport class Validator {\r\n  /**\r\n   * Validate Ethereum address\r\n   */\r\n  static isValidAddress(address: string): boolean {\r\n    return ethers.isAddress(address);\r\n  }\r\n\r\n  /**\r\n   * Validate amount\r\n   */\r\n  static isValidAmount(amount: string): boolean {\r\n    try {\r\n      const parsed = ethers.parseEther(amount);\r\n      return parsed > 0n;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate token symbol\r\n   */\r\n  static isValidSymbol(symbol: string): boolean {\r\n    return /^[A-Z0-9]{2,10}$/.test(symbol);\r\n  }\r\n\r\n  /**\r\n   * Validate token name\r\n   */\r\n  static isValidName(name: string): boolean {\r\n    return name.length >= 2 && name.length <= 50;\r\n  }\r\n\r\n  /**\r\n   * Validate URL\r\n   */\r\n  static isValidURL(url: string): boolean {\r\n    try {\r\n      new URL(url);\r\n      return true;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate private key\r\n   */\r\n  static isValidPrivateKey(key: string): boolean {\r\n    try {\r\n      new ethers.Wallet(key);\r\n      return true;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Calculation utilities\r\n */\r\nexport class Calculator {\r\n  /**\r\n   * Calculate price impact\r\n   */\r\n  static calculatePriceImpact(\r\n    inputAmount: bigint,\r\n    outputAmount: bigint,\r\n    currentPrice: bigint\r\n  ): number {\r\n    if (outputAmount === 0n || currentPrice === 0n) {\r\n      return 0;\r\n    }\r\n\r\n    const avgPrice = (inputAmount * 10n ** 18n) / outputAmount;\r\n    const impact = Number((avgPrice - currentPrice) * 10000n / currentPrice) / 100;\r\n\r\n    return impact;\r\n  }\r\n\r\n  /**\r\n   * Calculate slippage amount\r\n   */\r\n  static calculateSlippage(\r\n    amount: bigint,\r\n    slippagePercent: number\r\n  ): bigint {\r\n    const slippageBps = BigInt(Math.floor(slippagePercent * 100));\r\n    return (amount * (10000n - slippageBps)) / 10000n;\r\n  }\r\n\r\n  /**\r\n   * Calculate percentage\r\n   */\r\n  static calculatePercent(part: bigint, total: bigint): number {\r\n    if (total === 0n) return 0;\r\n    return Number((part * 10000n) / total) / 100;\r\n  }\r\n\r\n  /**\r\n   * Calculate vested amount\r\n   */\r\n  static calculateVestedAmount(\r\n    totalAmount: bigint,\r\n    startTime: bigint,\r\n    duration: bigint,\r\n    currentTime?: bigint\r\n  ): bigint {\r\n    const now = currentTime || BigInt(Math.floor(Date.now() / 1000));\r\n    const elapsed = now - startTime;\r\n\r\n    if (elapsed <= 0n) {\r\n      return 0n;\r\n    }\r\n\r\n    if (elapsed >= duration) {\r\n      return totalAmount;\r\n    }\r\n\r\n    return (totalAmount * elapsed) / duration;\r\n  }\r\n\r\n  /**\r\n   * Calculate APY from fees\r\n   */\r\n  static calculateAPY(\r\n    totalFees: bigint,\r\n    lockedValue: bigint,\r\n    lockDuration: number\r\n  ): number {\r\n    if (lockedValue === 0n) return 0;\r\n\r\n    const feesNum = Number(ethers.formatEther(totalFees));\r\n    const valueNum = Number(ethers.formatEther(lockedValue));\r\n    const yearFraction = lockDuration / (365 * 24 * 60 * 60);\r\n\r\n    return (feesNum / valueNum / yearFraction) * 100;\r\n  }\r\n}\r\n\r\n/**\r\n * Time utilities\r\n */\r\nexport class TimeHelper {\r\n  /**\r\n   * Get current timestamp\r\n   */\r\n  static now(): number {\r\n    return Math.floor(Date.now() / 1000);\r\n  }\r\n\r\n  /**\r\n   * Convert days to seconds\r\n   */\r\n  static daysToSeconds(days: number): number {\r\n    return days * 24 * 60 * 60;\r\n  }\r\n\r\n  /**\r\n   * Convert seconds to days\r\n   */\r\n  static secondsToDays(seconds: number): number {\r\n    return seconds / (24 * 60 * 60);\r\n  }\r\n\r\n  /**\r\n   * Check if deadline has passed\r\n   */\r\n  static hasDeadlinePassed(deadline: bigint | number): boolean {\r\n    const deadlineNum = typeof deadline === 'bigint' ? Number(deadline) : deadline;\r\n    return TimeHelper.now() > deadlineNum;\r\n  }\r\n\r\n  /**\r\n   * Get time remaining\r\n   */\r\n  static getTimeRemaining(deadline: bigint | number): number {\r\n    const deadlineNum = typeof deadline === 'bigint' ? Number(deadline) : deadline;\r\n    const remaining = deadlineNum - TimeHelper.now();\r\n    return Math.max(remaining, 0);\r\n  }\r\n\r\n  /**\r\n   * Sleep (for testing/delays)\r\n   */\r\n  static async sleep(ms: number): Promise<void> {\r\n    return new Promise((resolve) => setTimeout(resolve, ms));\r\n  }\r\n}\r\n\r\n/**\r\n * Gas utilities\r\n */\r\nexport class GasHelper {\r\n  /**\r\n   * Estimate gas cost in BNB (BSC native token)\r\n   */\r\n  static estimateCostBNB(gasLimit: bigint, gasPrice: bigint): string {\r\n    const cost = gasLimit * gasPrice;\r\n    return ethers.formatEther(cost);\r\n  }\r\n\r\n  /**\r\n   * Convert gwei to wei\r\n   */\r\n  static gweiToWei(gwei: string): bigint {\r\n    return ethers.parseUnits(gwei, 'gwei');\r\n  }\r\n\r\n  /**\r\n   * Convert wei to gwei\r\n   */\r\n  static weiToGwei(wei: bigint): string {\r\n    return ethers.formatUnits(wei, 'gwei');\r\n  }\r\n\r\n  /**\r\n   * Add gas buffer (increase by percentage)\r\n   */\r\n  static addBuffer(gasLimit: bigint, bufferPercent: number = 10): bigint {\r\n    const buffer = (gasLimit * BigInt(bufferPercent)) / 100n;\r\n    return gasLimit + buffer;\r\n  }\r\n}\r\n\r\n/**\r\n * Event utilities\r\n */\r\nexport class EventHelper {\r\n  /**\r\n   * Parse event logs\r\n   */\r\n  static parseEventLog(log: ethers.Log, contract: ethers.Contract): any {\r\n    try {\r\n      return contract.interface.parseLog({\r\n        topics: [...log.topics],\r\n        data: log.data,\r\n      });\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Filter events by name\r\n   */\r\n  static filterEventsByName(events: any[], eventName: string): any[] {\r\n    return events.filter((e) => e.name === eventName);\r\n  }\r\n\r\n  /**\r\n   * Get event argument\r\n   */\r\n  static getEventArg(event: any, argName: string): any {\r\n    return event.args?.[argName];\r\n  }\r\n}\r\n\r\n/**\r\n * Token utilities\r\n */\r\nexport class TokenHelper {\r\n  /**\r\n   * Get token contract instance\r\n   */\r\n  static getTokenContract(\r\n    address: string,\r\n    provider: ethers.Provider\r\n  ): ethers.Contract {\r\n    return new ethers.Contract(\r\n      address,\r\n      [\r\n        'function name() view returns (string)',\r\n        'function symbol() view returns (string)',\r\n        'function decimals() view returns (uint8)',\r\n        'function totalSupply() view returns (uint256)',\r\n        'function balanceOf(address) view returns (uint256)',\r\n        'function transfer(address, uint256) returns (bool)',\r\n        'function approve(address, uint256) returns (bool)',\r\n        'function allowance(address, address) view returns (uint256)',\r\n      ],\r\n      provider\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get token balance\r\n   */\r\n  static async getBalance(\r\n    tokenAddress: string,\r\n    userAddress: string,\r\n    provider: ethers.Provider\r\n  ): Promise<bigint> {\r\n    const contract = TokenHelper.getTokenContract(tokenAddress, provider);\r\n    return await contract.balanceOf(userAddress);\r\n  }\r\n\r\n  /**\r\n   * Get token allowance\r\n   */\r\n  static async getAllowance(\r\n    tokenAddress: string,\r\n    owner: string,\r\n    spender: string,\r\n    provider: ethers.Provider\r\n  ): Promise<bigint> {\r\n    const contract = TokenHelper.getTokenContract(tokenAddress, provider);\r\n    return await contract.allowance(owner, spender);\r\n  }\r\n\r\n  /**\r\n   * Check if approval needed\r\n   */\r\n  static async needsApproval(\r\n    tokenAddress: string,\r\n    owner: string,\r\n    spender: string,\r\n    amount: bigint,\r\n    provider: ethers.Provider\r\n  ): Promise<boolean> {\r\n    const allowance = await TokenHelper.getAllowance(\r\n      tokenAddress,\r\n      owner,\r\n      spender,\r\n      provider\r\n    );\r\n    return allowance < amount;\r\n  }\r\n}\r\n\r\n/**\r\n * URL utilities\r\n */\r\nexport class URLHelper {\r\n  /**\r\n   * Build explorer URL\r\n   */\r\n  static getExplorerURL(\r\n    baseURL: string,\r\n    type: 'address' | 'tx' | 'token' | 'block',\r\n    value: string\r\n  ): string {\r\n    return `${baseURL}/${type}/${value}`;\r\n  }\r\n\r\n  /**\r\n   * Parse transaction hash from URL\r\n   */\r\n  static parseTxHash(url: string): string | null {\r\n    const match = url.match(/tx\\/(0x[a-fA-F0-9]{64})/);\r\n    return match ? match[1] : null;\r\n  }\r\n\r\n  /**\r\n   * Parse address from URL\r\n   */\r\n  static parseAddress(url: string): string | null {\r\n    const match = url.match(/address\\/(0x[a-fA-F0-9]{40})/);\r\n    return match ? match[1] : null;\r\n  }\r\n}\r\n\r\n// Re-export all utilities\r\nexport const utils = {\r\n  Formatter,\r\n  Validator,\r\n  Calculator,\r\n  TimeHelper,\r\n  GasHelper,\r\n  EventHelper,\r\n  TokenHelper,\r\n  URLHelper,\r\n};\r\n\r\nexport default utils;","// src/index.ts\r\n\r\n/**\r\n * SafuPad SDK\r\n * \r\n * A comprehensive TypeScript SDK for interacting with SafuPad smart contracts\r\n * \r\n * @packageDocumentation\r\n */\r\n\r\n// Main SDK export\r\nexport { SafuPadSDK } from './SafuPadSDK';\r\nexport { default } from './SafuPadSDK';\r\n\r\n// Contract classes\r\nexport { BaseContract } from './contracts/BaseContract';\r\nexport { LaunchpadManager } from './contracts/LaunchpadManager';\r\nexport { BondingCurveDEX } from './contracts/BondingCurveDEX';\r\nexport { TokenFactory } from './contracts/TokenFactory';\r\nexport { PriceOracle } from './contracts/PriceOracle';\r\nexport { LPFeeHarvester } from './contracts/LPFeeHarvester';\r\n\r\n// Types\r\nexport type {\r\n  NetworkName,\r\n  NetworkConfig,\r\n  SDKConfig,\r\n  TokenMetadata,\r\n  CreateLaunchParams,\r\n  CreateInstantLaunchParams,\r\n  LaunchInfo,\r\n  LaunchInfoWithUSD,\r\n  PoolInfo,\r\n  FeeInfo,\r\n  Quote,\r\n  PostGraduationStats,\r\n  CreatorFeeInfo,\r\n  LPLockInfo,\r\n  HarvestStats,\r\n  PlatformStats,\r\n  TxOptions,\r\n  EventFilterOptions,\r\n  FormattedLaunchInfo,\r\n  FormattedPoolInfo,\r\n  TokenInfo,\r\n  ContributionInfo,\r\n  ClaimableAmounts,\r\n  TxResult,\r\n} from './types';\r\n\r\n// Enums\r\nexport { LaunchType } from './types';\r\n\r\n// Error classes\r\nexport {\r\n  SafuPadError,\r\n  NetworkError,\r\n  ContractError,\r\n  ValidationError,\r\n} from './types';\r\n\r\n// Constants\r\nexport {\r\n  NETWORKS,\r\n  DEFAULT_CONFIG,\r\n  CONSTANTS,\r\n  ERROR_MESSAGES,\r\n  EVENTS,\r\n  UTILS,\r\n  TIME,\r\n  BLOCK_TIME,\r\n  GAS_LIMITS,\r\n} from './constants';\r\n\r\n// Utilities\r\nexport * from './utils';\r\n\r\n// Update SafuPadSDK.ts to use the constructors correctly\r\n// The constructors are already correctly set up, just make sure\r\n// they match what we have above\r\n\r\n// Export ABIs from index\r\nexport * from './abis';\r\n\r\n// The Graph integration\r\nexport { SafuPadGraph } from './graph/SafuPadGraph';\r\nexport { GraphQLClient } from './graph/client';\r\nexport type {\r\n  GraphToken,\r\n  GraphLaunch,\r\n  GraphPool,\r\n  GraphTrade,\r\n  GraphContribution,\r\n  GraphTokenHolder,\r\n  GraphCreatorFees,\r\n  GraphPlatformStats,\r\n  GraphDailyStats,\r\n  PaginationParams,\r\n  LaunchFilters,\r\n  TradeFilters,\r\n  PoolFilters,\r\n} from './graph/types';\r\n\r\n// Version\r\nexport const VERSION = '2.0.0';"],"names":["queries.GET_TOKEN","queries.GET_LAUNCH","queries.GET_LAUNCHES","queries.GET_POOL","queries.GET_POOLS","queries.GET_TRADES","queries.GET_CONTRIBUTIONS","queries.GET_CONTRIBUTION","queries.GET_TOKEN_HOLDERS","queries.GET_CREATOR_FEES","queries.GET_PLATFORM_STATS","queries.GET_DAILY_STATS","queries.SEARCH_TOKENS","queries.GET_USER_TRADES","queries.GET_USER_CONTRIBUTIONS","queries.GET_TRENDING_TOKENS"],"mappings":"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"}